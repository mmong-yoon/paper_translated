"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["1091"],{50756:function(e,i,t){t.d(i,{A:()=>a});let a={container:"container-D8CZbL","videoContainer-clip":"videoContainer-clip-KcDC9v",videoContainerClip:"videoContainer-clip-KcDC9v",videoContainerWrapper:"videoContainerWrapper-VrqlAM",videoIcon:"videoIcon-JWfwBB",videoContainer:"videoContainer-S7toSI",video:"video-dep_Pc",fullScreenContainer:"fullScreenContainer-oPOI4W","playerContainer-vertical":"playerContainer-vertical-nqZGWC",playerContainerVertical:"playerContainer-vertical-nqZGWC","playerContainer-landscape":"playerContainer-landscape-R9mTfd",playerContainerLandscape:"playerContainer-landscape-R9mTfd","playerContainer-vertical_fit":"playerContainer-vertical_fit-j9atXq",playerContainerVerticalFit:"playerContainer-vertical_fit-j9atXq","videoContainer-vertical_fit":"videoContainer-vertical_fit-ku5xgX",videoContainerVerticalFit:"videoContainer-vertical_fit-ku5xgX","video-vertical_fit":"video-vertical_fit-aJ3XQJ",videoVerticalFit:"video-vertical_fit-aJ3XQJ","playerContainer-vertical_fill":"playerContainer-vertical_fill-As6E90",playerContainerVerticalFill:"playerContainer-vertical_fill-As6E90","videoContainer-vertical_fill":"videoContainer-vertical_fill-pCmPd2",videoContainerVerticalFill:"videoContainer-vertical_fill-pCmPd2","video-vertical_fill":"video-vertical_fill-UOGFke",videoVerticalFill:"video-vertical_fill-UOGFke",videoPlayer:"videoPlayer-ySwQUq",generateClips:"generateClips-qHOZUt",spinner:"spinner-FpLDBB",backDrop:"backDrop-EWGPYa",downloadModal:"downloadModal-SupuMR"}},79994:function(e,i,t){t.d(i,{X:()=>l}),t(10201),t(33031);var a=t(17402);t(15734),t(85478),t(84810),t(76528);let n=(0,a.createContext)({existingClips:[],mediaClipsRequest:null,isTranscribing:!1,podcastUpload:null,setExistingClips:()=>void 0,setIsTranscribing:()=>void 0,setMediaClipsRequest:()=>void 0,setTranscription:()=>void 0,setUploadProgress:()=>void 0,syncClips:()=>Promise.resolve(),transcription:null,transcriptionGenerated:!1,uploadProgress:null,transcodeProgress:null,setTranscodeProgress:()=>void 0,nonStandardInputReasons:{},uploadState:"no-upload",videoUpload:null,onVideoTranscodeUpdate:()=>Promise.resolve(),postMediaComposition:null,setPostMediaComposition:()=>void 0,updatingActivePostMediaComposition:!1,setUpdatingActivePostMediaComposition:()=>void 0,fetchPostMediaComposition:()=>Promise.resolve()}),l=()=>(0,a.useContext)(n)},4246:function(e,i,t){t.d(i,{Jf:()=>_,Vi:()=>T,rN:()=>A});var a=t(10201),n=t(45994),l=t(69715),o=t(86500),r=t(68410),s=t(76977),d=t(90531),c=t(7998),p=t(43959),u=t(59017),v=t(97885),h=t(31584),m=t(76670),C=t(41815),g=t(17806),y=t(50794),Y=t(82318),f=t(1235),b=t(99243);let _=e=>{var i,t,_,A;let{autoPlayMuted:T,forLiveStream:S=!1,disableSharing:w=!1,disableShortcuts:F=!1,disableTooltips:D=!1,disableCaptions:I=!1,duration:x,handle:N,hasPaywall:P=!1,hasTranscript:k=!1,hideNextVideoButton:R=!1,hidePip:O=!1,hideCaptions:E=!1,hideSettings:U=!1,isActive:M,isAudio:B=!1,isFocused:J,mediaRef:L,mediaUpload:V,podcastUpload:q,post:X,pub:K,showPaywall:W,showTranscript:z,size:G="md",onShareMenuClose:j,onShareMenuOpen:Z,onToggleShowTranscript:H,onBlur:Q,hoverOptions:$}=e,{transition:ee=.5,transitionDelay:ei=.1}=null!=$?$:{},{isClipping:et}=(0,l.MC)(),{isMobile:ea}=(0,r.sM)(),en=M&&!W,el=(0,n.li)(null),[eo,er]=(0,n.J0)(!1),[es,ed]=(0,n.J0)(!1),[ec,ep]=(0,n.J0)(null),eu=e=>{let{current:i}=L;i&&(i.isShowingCaptionsElsewhere=e),ed(e)};(0,n.vJ)(()=>{(et||T)&&ev({showCaptions:!0,userInitiated:!1})},[et,T]);let ev=e=>{let{showCaptions:i,userInitiated:t}=e;eu(i),i&&(null==eh?void 0:eh.length)&&eh[0]&&(ep(eh[0].language),t&&(0,o.u4)(o.qY.VIDEO_CLOSED_CAPTIONS_BUTTON_CLICKED,{language:eh[0].language}))};(0,n.vJ)(()=>{en||er(!1)},[en]);let eh=null!=(_=null==q||null==(i=q.transcription)?void 0:i.signed_captions)?_:[],em=!!(null==q||null==(t=q.transcription)?void 0:t.approved_at);return(0,a.FD)("div",{ref:el,style:{zIndex:et?10:+!!eo},onBlur:Q,children:[(null==N?void 0:N.active)?(0,a.Y)("div",{className:b.A.topOverlaysContainer,style:{opacity:+!!en,transform:en||ea?"translateY(0)":"translateY(-20%)"},children:(0,a.FD)(s.Ye,{justifyContent:"space-between",paddingBottom:32,children:[(0,a.Y)(s.Ye,{padding:16}),(0,a.Y)(s.Ye,{padding:16})]})}):null,(0,a.Y)("div",{}),!S&&(0,a.Y)("div",{className:b.A.settingsControlsContainer,style:{opacity:eo&&en?1:0,pointerEvents:eo?"auto":"none"},children:(0,a.FD)(s.I1,{children:[(0,a.Y)(s.Ye,{className:b.A.settingsControlsBox,children:(0,a.Y)(g.A,{hideSharePostAtCurrentTime:B,mediaRef:L,post:X,pub:K,podcastUpload:q,subtitles:ec,setSubtitles:e=>{ep(e),!e&&es?eu(!1):e&&!es&&eu(!0)},setIsSettingsOpen:er})}),(0,a.Y)("div",{style:{height:"60px"}})]})}),(0,a.FD)("div",{className:b.A.bottomControlsContainer,style:{transform:en||ea?"translateY(0)":"translateY(40px)",transition:"transform ".concat(ee,"s ease"),transitionDelay:"".concat(ei,"s")},children:[(0,a.Y)("div",{className:b.A.backDrop,style:{opacity:+!!en}}),(0,a.FD)(s.I1,{flex:"grow",gap:8,paddingY:4,children:[L.current&&q&&!P&&N&&V&&!I&&(0,a.Y)("div",{className:b.A.captionsContainer,children:(0,a.Y)(d.A,{handle:N,mediaUpload:q,showCaptions:es,size:G,subtitles:ec,videoEle:null!=(A=L.current.player)?A:null,withHighlight:et})}),(0,a.Y)("div",{className:b.A.bottomInnerControlsContainer,style:{opacity:+!!en,transition:void 0!=ee?"opacity ".concat(ee,"s ease"):"opacity 0.5s ease"},children:(0,a.FD)(s.I1,{flex:"grow",children:[!S&&(0,a.Y)(s.Ye,{flex:"grow",paddingBottom:4,children:(0,a.Y)(y.K,{disableSharing:B||w,mediaRef:L,mediaUpload:V,post:X,pub:K,size:G,onShareMenuClose:j,onShareMenuOpen:Z})}),(0,a.FD)(s.Ye,{paddingX:4,children:[(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[!S&&(0,a.Y)(m.A,{disableShortcuts:F,disableTooltips:D,isFocused:J,mediaRef:L}),!R&&(null==V?void 0:V.post_id)&&(0,a.Y)(u.A,{disableShortcuts:F,isFocused:J,postId:V.post_id,pub:K}),(0,a.Y)(f.A,{disableShortcuts:F,disableTooltips:D,isFocused:J,mediaRef:L}),!S&&(0,a.Y)(h.A,{duration:B&&null!=x?x:null,mediaRef:L})]}),(0,a.Y)(s.pT,{flex:"grow"}),(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[!B&&H&&!S&&(0,a.Y)(Y.A,{disableShortcuts:F,disableTooltips:D,disabled:P||!k,isFocused:J,showTranscript:null!=z&&z,onToggleShowTranscript:H}),!B&&!E&&!S&&(0,a.Y)(c.A,{disableShortcuts:F,disableTooltips:D,disabled:!em||P,isFocused:J,setShowCaptions:ev,showCaptions:es}),!B&&!O&&(0,a.Y)(v.A,{disableShortcuts:F,disableTooltips:D,isFocused:J,mediaRef:L}),!B&&N&&(0,a.Y)(p.A,{disableShortcuts:F,disableTooltips:D,handle:N,isFocused:J}),!S&&!U&&(0,a.Y)(C.A,{disableTooltips:D,isSettingsOpen:eo,setIsSettingsOpen:er})]})]})]})})]})]})]})},A=e=>{var i,t,l,u,v,C;let{mediaRef:g,mediaUpload:Y,handle:_,isActive:A,pub:T,size:S="sm",startTime:w,duration:F,useCaptions:D=!1,captionsStyle:I,hoverOptions:x,onBlur:N}=e,{transition:P=.5,transitionDelay:k=.1}=null!=x?x:{},{isMobile:R}=(0,r.sM)(),O=(0,n.li)(null),[E,U]=(0,n.J0)(!1),[M,B]=(0,n.J0)(null),J=null!=(v=null==Y||null==(t=Y.extractedAudio)||null==(i=t.transcription)?void 0:i.signed_captions)?v:[],L=!!(null==Y||null==(u=Y.extractedAudio)||null==(l=u.transcription)?void 0:l.approved_at);return(0,n.vJ)(()=>{let e=()=>{var e;(null==(e=g.current)?void 0:e.player)&&!isNaN(g.current.player.duration)&&(g.current.player.currentTime=w)};if(g.current){var i;null==(i=g.current.player)||i.addEventListener("durationchange",e)}return()=>{if(g.current){var i;null==(i=g.current.player)||i.removeEventListener("durationchange",e)}}},[g]),(0,a.FD)("div",{ref:O,onBlur:N,children:[(null==_?void 0:_.active)?(0,a.Y)("div",{className:b.A.topOverlaysContainer,style:{opacity:+!!A,transform:A||R?"translateY(0)":"translateY(-20%)"},children:(0,a.FD)(s.Ye,{justifyContent:"space-between",paddingBottom:32,children:[(0,a.Y)(s.Ye,{padding:16}),(0,a.Y)(s.Ye,{padding:16})]})}):null,g.current&&(null==Y?void 0:Y.extractedAudio)&&_&&D&&(0,a.Y)("div",{className:b.A.captionsContainer,style:{bottom:0},children:(0,a.Y)(d.A,{handle:_,mediaUpload:Y.extractedAudio,showCaptions:E,size:S,subtitles:M,videoEle:null!=(C=g.current.player)?C:null,captionsStyle:I,withHighlight:!0})}),(0,a.FD)("div",{className:b.A.bottomControlsContainer,style:{transform:A||R?"translateY(0)":"translateY(40px)",transition:void 0!=P?"transform ".concat(P,"s ease"):"transform 0.5s ease",transitionDelay:void 0!=k?"".concat(k,"s"):"0.1s"},children:[(0,a.Y)("div",{className:b.A.backDrop,style:{opacity:+!!A}}),(0,a.Y)(s.I1,{flex:"grow",gap:8,paddingY:4,children:(0,a.Y)("div",{className:b.A.bottomInnerControlsContainer,style:{opacity:+!!A,transition:void 0!=P?"opacity ".concat(P,"s ease"):"opacity 0.5s ease"},children:(0,a.FD)(s.I1,{flex:"grow",children:[(0,a.Y)(s.Ye,{flex:"grow",paddingBottom:4,children:(0,a.Y)(y.K,{disableSharing:!0,mediaRef:g,mediaUpload:Y,post:void 0,pub:T,size:"sm",startTime:w,endTime:F?w+F:void 0})}),(0,a.FD)(s.Ye,{paddingX:4,children:[(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[(0,a.Y)(m.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:g}),(0,a.Y)(f.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:g}),(0,a.Y)(h.P,{startTime:w,duration:null!=F?F:null,mediaRef:g})]}),(0,a.Y)(s.pT,{flex:"grow"}),(0,a.Y)(c.A,{disableShortcuts:!0,disableTooltips:!0,disabled:!L,setShowCaptions:e=>{let{showCaptions:i,userInitiated:t}=e;U(i),i&&(null==J?void 0:J.length)&&J[0]&&(B(J[0].language),t&&(0,o.u4)(o.qY.VIDEO_CLOSED_CAPTIONS_BUTTON_CLICKED,{language:J[0].language}))},showCaptions:E,isFocused:!1}),_&&(0,a.Y)(p.A,{disableShortcuts:!0,disableTooltips:!0,handle:_,isFocused:!1})]})]})})})]})]})},T=e=>{let{mediaRef:i,mediaUpload:t,isActive:l,pub:o,startTime:d,duration:c,hoverOptions:p,onBlur:u}=e,{transition:v=.5,transitionDelay:C=.1}=null!=p?p:{},{isMobile:g}=(0,r.sM)(),Y=(0,n.li)(null);return(0,n.vJ)(()=>{let e=()=>{var e;(null==(e=i.current)?void 0:e.player)&&!isNaN(i.current.player.duration)&&(i.current.player.currentTime=d)};if(i.current){var t;null==(t=i.current.player)||t.addEventListener("durationchange",e)}return()=>{if(i.current){var t;null==(t=i.current.player)||t.removeEventListener("durationchange",e)}}},[i]),(0,a.Y)("div",{ref:Y,onBlur:u,children:(0,a.FD)("div",{className:b.A.bottomControlsContainer,style:{transform:l||g?"translateY(0)":"translateY(40px)",transition:"transform ".concat(v,"s ease"),transitionDelay:"".concat(C,"s")},children:[(0,a.Y)("div",{className:b.A.backDrop,style:{opacity:+!!l}}),(0,a.Y)(s.I1,{flex:"grow",gap:8,paddingY:4,children:(0,a.Y)("div",{className:b.A.bottomInnerControlsContainer,style:{opacity:+!!l,transition:void 0!=v?"opacity ".concat(v,"s ease"):"opacity 0.5s ease"},children:(0,a.FD)(s.I1,{flex:"grow",children:[(0,a.Y)(s.Ye,{flex:"grow",paddingBottom:4,children:(0,a.Y)(y.K,{disableSharing:!0,mediaRef:i,mediaUpload:t,post:void 0,pub:o,size:"sm",startTime:d,endTime:c?d+c:void 0})}),(0,a.FD)(s.Ye,{paddingX:4,children:[(0,a.FD)(s.pT,{gap:8,alignItems:"center",children:[(0,a.Y)(m.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:i}),(0,a.Y)(f.A,{disableShortcuts:!0,disableTooltips:!0,isFocused:!1,mediaRef:i}),(0,a.Y)(h.P,{startTime:d,duration:null!=c?c:null,mediaRef:i})]}),(0,a.Y)(s.pT,{flex:"grow"})]})]})})})]})})}},96209:function(e,i,t){t.d(i,{C9:()=>a}),t(42877);let a=(e,i)=>{let t,{showLiveOverlay:a,subtitle:n,aspectRatio:l,pub:o,includeBumper:r,includeHeadlines:s,headlineText:d}=null!=i?i:{},c={skip_bumper:!r},p=!1,u=e.width&&e.height?e.width/e.height:1,v=!!e.live_stream_id,h=!(e.live_stream_id&&u>=1);if(e.liveStream){var m,C,g;p=(null!=(C=e.liveStream.joinedOrCompletedLiveStreamInvites)?C:[]).length>0,t=null!=(g=null==(m=e.liveStream.user)?void 0:m.handle)?g:void 0}return(null==o?void 0:o.author_handle)&&(t=o.author_handle),(v||a)&&(h||(c.legacy_watermark={type:"legacy_watermark",show:!1}),(u<1||["vertical_fill","vertical_fit"].includes(null!=l?l:""))&&(a&&(c.live_overlay={type:"live_overlay",position:p?"bottom":"center",subtitle:n||(t?"@".concat(t):void 0)}),c.captions={type:"captions",position:p?["center","center"]:["center",700]})),s&&d&&(c.headline={type:"headline",text:d,position:v&&p?["center","center"]:["center",142]},c.legacy_watermark={type:"legacy_watermark",show:!1},delete c.live_overlay),c}}}]);