"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["4776"],{94341:function(e,t,n){n.d(t,{FD:()=>r.FD,FK:()=>r.FK,Y:()=>r.Y}),n(17402);var r=n(10201)},11167:function(e,t,n){n.d(t,{BE:()=>P,Es:()=>S,Tk:()=>W,Tn:()=>u,X3:()=>R,ZH:()=>o,aw:()=>B,b0:()=>l,bZ:()=>w,bu:()=>V,dO:()=>T,iX:()=>Y,lK:()=>D,lg:()=>A,mF:()=>N,mf:()=>k,qm:()=>j,qv:()=>a,r9:()=>y,rL:()=>c,sb:()=>q,uv:()=>Z});var r=n(17402);let i=()=>{},o=i(),a=Object,l=e=>e===o,u=e=>"function"==typeof e,c=(e,t)=>({...e,...t}),s=new WeakMap,f=0,d=e=>{let t,n,r=typeof e,i=e&&e.constructor,o=i==Date;if(a(e)!==e||o||i==RegExp)t=o?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=s.get(e))return t;if(t=++f+"~",s.set(e,t),i==Array){for(n=0,t="@";n<e.length;n++)t+=d(e[n])+",";s.set(e,t)}if(i==a){t="#";let r=a.keys(e).sort();for(;!l(n=r.pop());)l(e[n])||(t+=n+":"+d(e[n])+",");s.set(e,t)}}return t},w=new WeakMap,E={},p={},h="undefined",_=typeof window!=h,v=typeof document!=h,y=(e,t)=>{let n=w.get(e);return[()=>!l(t)&&e.get(t)||E,r=>{if(!l(t)){let i=e.get(t);t in p||(p[t]=i),n[5](t,c(i,r),i||E)}},n[6],()=>!l(t)&&t in p?p[t]:!l(t)&&e.get(t)||E]},g=!0,[b,m]=_&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],O={initFocus:e=>(v&&document.addEventListener("visibilitychange",e),b("focus",e),()=>{v&&document.removeEventListener("visibilitychange",e),m("focus",e)}),initReconnect:e=>{let t=()=>{g=!0,e()},n=()=>{g=!1};return b("online",t),b("offline",n),()=>{m("online",t),m("offline",n)}}},T=!r.default.useId,R=!_||"Deno"in window,k=e=>_&&typeof window.requestAnimationFrame!=h?window.requestAnimationFrame(e):setTimeout(e,1),S=R?r.useEffect:r.useLayoutEffect,C="undefined"!=typeof navigator&&navigator.connection,L=!R&&C&&(["slow-2g","2g"].includes(C.effectiveType)||C.saveData),D=e=>{if(u(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?d(e):"",t]},F=0,A=()=>++F;var V={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function N(...e){let[t,n,r,i]=e,a=c({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),s=a.populateCache,f=a.rollbackOnError,d=a.optimisticData,E=!1!==a.revalidate,p=a.throwOnError;if(u(n)){let e=[];for(let r of t.keys())!/^\$(inf|sub)\$/.test(r)&&n(t.get(r)._k)&&e.push(r);return Promise.all(e.map(h))}return h(n);async function h(n){let i,[a]=D(n);if(!a)return;let[c,h]=y(t,a),[_,v,g,b]=w.get(t),m=_[a],O=()=>E&&(delete g[a],delete b[a],m&&m[0])?m[0](2).then(()=>c().data):c().data;if(e.length<3)return O();let T=r,R=A();v[a]=[R,0];let k=!l(d),S=c(),C=S.data,L=S._c,F=l(L)?C:L;if(k&&h({data:d=u(d)?d(F,C):d,_c:F}),u(T))try{T=T(F)}catch(e){i=e}if(T&&u(T.then)){let e;if(T=await T.catch(e=>{i=e}),R!==v[a][0]){if(i)throw i;return T}i&&k&&(e=i,"function"==typeof f?f(e):!1!==f)&&(s=!0,h({data:T=F,_c:o}))}s&&!i&&(u(s)&&(T=s(T,F)),h({data:T,error:o,_c:o})),v[a][1]=A();let V=await O();if(h({_c:o}),i){if(p)throw i;return}return s?V:T}}let I=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},M=(e,t)=>{if(!w.has(e)){let n=c(O,t),r={},a=N.bind(o,e),l=i,u={},s=(e,t)=>{let n=u[e]||[];return u[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},f=(t,n,r)=>{e.set(t,n);let i=u[t];if(i)for(let e of i)e(n,r)},d=()=>{if(!w.has(e)&&(w.set(e,[r,{},{},{},a,f,s]),!R)){let t=n.initFocus(setTimeout.bind(o,I.bind(o,r,0))),i=n.initReconnect(setTimeout.bind(o,I.bind(o,r,1)));l=()=>{t&&t(),i&&i(),w.delete(e)}}};return d(),[e,a,d,l]}return[e,w.get(e)[4]]},[x,W]=M(new Map),q=c({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,n,r,i)=>{let o=n.errorRetryCount,a=i.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;(l(o)||!(a>o))&&setTimeout(r,u,i)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:L?5e3:3e3,compare:(e,t)=>d(e)==d(t),isPaused:()=>!1,cache:x,mutate:W,fallback:{}},{isOnline:()=>g,isVisible:()=>{let e=v&&document.visibilityState;return l(e)||"hidden"!==e}}),U=(e,t)=>{let n=c(e,t);if(t){let{use:r,fallback:i}=e,{use:o,fallback:a}=t;r&&o&&(n.use=r.concat(o)),i&&a&&(n.fallback=c(i,a))}return n},K=(0,r.createContext)({}),P=e=>{let{value:t}=e,n=(0,r.useContext)(K),i=u(t),a=(0,r.useMemo)(()=>i?t(n):t,[i,n,t]),l=(0,r.useMemo)(()=>i?a:U(n,a),[i,n,a]),s=a&&a.provider,f=(0,r.useRef)(o);s&&!f.current&&(f.current=M(s(l.cache||x),a));let d=f.current;return d&&(l.cache=d[0],l.mutate=d[1]),S(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,r.createElement)(K.Provider,c(e,{value:l}))},J=_&&window.__SWR_DEVTOOLS_USE__,X=J?window.__SWR_DEVTOOLS_USE__:[],Y=()=>c(q,(0,r.useContext)(K)),Z=(e,t)=>{let[n,r]=D(e),[,,,i]=w.get(x);if(i[n])return i[n];let o=t(r);return i[n]=o,o},$=X.concat(e=>(t,n,r)=>{let i=n&&((...e)=>{let[r]=D(t),[,,,i]=w.get(x),o=i[r];return l(o)?n(...e):(delete i[r],o)});return e(t,i,r)}),j=e=>function(...t){let n=Y(),[r,i,o]=u(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}],a=U(n,o),l=e,{use:c}=a,s=(c||[]).concat($);for(let e=s.length;e--;)l=s[e](l);return l(r,i||a.fetcher||null,a)},B=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};J&&(window.__SWR_DEVTOOLS_REACT__=r.default)}}]);