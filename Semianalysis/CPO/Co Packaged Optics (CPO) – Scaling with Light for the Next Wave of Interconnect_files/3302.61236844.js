"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3302"],{85013:function(e,t,r){r.d(t,{A:()=>n});let n={lockedIcon:"lockedIcon-JpQwVp"}},78862:function(e,t,r){r.d(t,{A:()=>n});let n={button:"button-geLdIK",priority_primary:"priority_primary-AEf55U",priorityPrimary:"priority_primary-AEf55U"}},54409:function(e,t,r){r.d(t,{A:()=>n});let n={active:"active-hmQjWF"}},90095:function(e,t,r){r.d(t,{A:()=>n});let n={active:"active-CkxYpV"}},2435:function(e,t,r){r.d(t,{A:()=>l});var n=r(69277),i=r(70408),o=r(32641),a=r(10201),c=r(97731);let l=e=>{var{size:t=20,stroke:r="var(--color-fg-primary)",strokeWidth:l=1.5}=e,s=(0,o._)(e,["size","stroke","strokeWidth"]);return(0,a.Y)(c.A,(0,i._)((0,n._)({},s),{name:"NoteCommentIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:r,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.Y)("path",{d:"M18.7502 11V7.50097C18.7502 4.73917 16.5131 2.50033 13.7513 2.50042L6.25021 2.50044C3.48848 2.5004 1.25017 4.73875 1.2502 7.50048L1.25021 10.9971C1.2502 13.749 3.47395 15.9836 6.22586 15.9971L6.82888 16V19.0182L12.1067 16H13.7502C16.5116 16 18.7502 13.7614 18.7502 11Z"})}))}},83114:function(e,t,r){r.d(t,{A:()=>o});var n=r(10201),i=r(97731);let o=e=>{let{size:t=32,color:r="var(--color-fg-secondary)",strokeWidth:o=1.5,className:a}=e;return(0,n.FD)(i.A,{name:"NoteReplyLockedIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,n.Y)("path",{d:"M18.7499 10.6907C18.7499 13.4521 16.5113 15.6907 13.7499 15.6907H12.1064L6.82856 18.7089V15.6907L6.22554 15.6878C3.47363 15.6743 1.24988 13.4397 1.24989 10.6878L1.24988 7.19122C1.24985 4.42949 3.48816 2.19114 6.24989 2.19118L10.0004 2.19117",stroke:r,strokeWidth:o,fill:"none"}),(0,n.Y)("path",{d:"M13.5616 9.25692H17.8786C18.5722 9.25692 18.9402 8.87948 18.9402 8.134V4.88323C18.9402 4.13776 18.5722 3.76505 17.8786 3.76505H13.5616C12.868 3.76505 12.5 4.13776 12.5 4.88323V8.134C12.5 8.87948 12.868 9.25692 13.5616 9.25692ZM13.3257 4.12834H14.0758V2.53362C14.0758 1.34466 14.8355 0.712433 15.7177 0.712433C16.6 0.712433 17.3691 1.34466 17.3691 2.53362V4.12834H18.1145V2.63742C18.1145 0.863412 16.9539 0 15.7177 0C14.4863 0 13.3257 0.863412 13.3257 2.63742V4.12834Z",fill:r,stroke:"none"})]})}},76673:function(e,t,r){r.d(t,{A:()=>l});var n=r(69277),i=r(70408),o=r(32641),a=r(10201),c=r(97731);let l=e=>{var{size:t=20,stroke:r="var(--color-fg-primary)",strokeWidth:l=1.5,className:s}=e,d=(0,o._)(e,["size","stroke","strokeWidth","className"]);return(0,a.Y)(c.A,(0,i._)((0,n._)({},d),{name:"NoteRestackIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:r,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round",className:s,children:(0,a.Y)("path",{d:"M2.53001 7.81595C3.49179 4.73911 6.43281 2.5 9.91173 2.5C13.1684 2.5 15.9537 4.46214 17.0852 7.23684L17.6179 8.67647M17.6179 8.67647L18.5002 4.26471M17.6179 8.67647L13.6473 6.91176M17.4995 12.1841C16.5378 15.2609 13.5967 17.5 10.1178 17.5C6.86118 17.5 4.07589 15.5379 2.94432 12.7632L2.41165 11.3235M2.41165 11.3235L1.5293 15.7353M2.41165 11.3235L6.38224 13.0882"})}))}},55913:function(e,t,r){r.d(t,{A:()=>l});var n=r(69277),i=r(70408),o=r(32641),a=r(10201),c=r(97731);let l=e=>{var{size:t=20,stroke:r="var(--color-fg-primary)",strokeWidth:l=1.5}=e,s=(0,o._)(e,["size","stroke","strokeWidth"]);return(0,a.Y)(c.A,(0,i._)((0,n._)({},s),{name:"NoteShareIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:r,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.Y)("path",{d:"M10.2171 2.2793L10.2171 12.9745M10.2171 2.2793L13.333 4.99984M10.2171 2.2793L7.08301 4.99984M2.49967 10.9925L2.49967 14.1592C2.49967 16.011 4.00084 17.5121 5.85261 17.5121L14.9801 17.5121C16.8318 17.5121 18.333 16.011 18.333 14.1592L18.333 10.9925"})}))}},82021:function(e,t,r){r.d(t,{V:()=>f});var n=r(69277),i=r(70408),o=r(32641),a=r(10201),c=r(32485),l=r.n(c),s=r(17402),d=r(86473),u=r(35369),m=r(63136),p=r(82776),h=r(78862);let f=(0,s.forwardRef)((e,t)=>{var{className:r,disabled:c,count:s,children:m,priority:p="secondary"}=e,f=(0,o._)(e,["className","disabled","count","children","priority"]);let k=(0,d.LX)(p);return(0,a.FD)(u.Nm,(0,i._)((0,n._)({ref:t,resetCss:!0,display:"flex",flex:"auto",sizing:"border-box",alignItems:"center",justifyContent:"center",userSelect:"none",radius:"full",paddingX:8,height:k,minWidth:k,gap:8,className:l()(r,h.A.button,h.A["priority_".concat(p)]),disabled:c},f),{children:[m,!!s&&s>0&&(0,a.Y)(v,{count:s,priority:p})]}))});function v(e){let{count:t,priority:r}=e,n=(0,d.kE)(r);return(0,a.Y)(m.EY.B4,{weight:n,children:(0,p.numberToRoughShortString)(Math.max(t,1),{plusSignifier:""})})}},71836:function(e,t,r){r.d(t,{S:()=>l});var n=r(10201),i=r(32485),o=r.n(i),a=r(86473),c=r(89490);function l(e){let{isLiked:t,clickedOnce:r,priority:i="secondary"}=e,l=(0,a.kS)(i);return(0,n.FD)(c.az,{className:o()("container-CDGars",t&&"isLiked-pX6wdS",r&&t&&"clickedOnce-AmcfwJ"),children:[(0,n.Y)(s,{size:l}),(0,n.Y)(d,{totalSparks:8})]})}function s(e){let{size:t}=e;return(0,n.Y)("svg",{className:"heart-LkT9Ql",viewBox:"0 0 20 20",width:t,height:t,children:(0,n.Y)("path",{d:"M5.00002 2.54822C8.00003 2.09722 9.58337 4.93428 10 5.87387C10.4167 4.93428 12 2.09722 15 2.54822C18 2.99923 18.75 5.66154 18.75 7.05826C18.75 9.28572 18.1249 10.9821 16.2499 13.244C14.3749 15.506 10 18.3333 10 18.3333C10 18.3333 5.62498 15.506 3.74999 13.244C1.875 10.9821 1.25 9.28572 1.25 7.05826C1.25 5.66154 2 2.99923 5.00002 2.54822Z"})})}function d(e){let{totalSparks:t}=e;return(0,n.Y)(c.az,{className:"sparks-Q83SsW",style:"--total-sparks: ".concat(t),children:Array(t).fill(0).map((e,t)=>(0,n.Y)(u,{index:t}))})}function u(e){let{index:t}=e;return(0,n.Y)("div",{className:"spark-gW9TO5",style:"--i: ".concat(t+1,";")})}},68838:function(e,t,r){r.d(t,{U:()=>d});var n=r(10201),i=r(32485),o=r.n(i),a=r(17402),c=r(76673),l=r(86473),s=r(89490);function d(e){let{isRestacked:t,priority:r="secondary"}=e,i=(0,l.kS)(r),d=(0,a.useRef)(t),[u,m]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{m(!d.current&&t),d.current=t},[t]),(0,n.Y)(s.az,{className:o()("container-R_2Qan",t&&"isRestacked-dHuw53",u&&"animate-q7j37o"),children:(0,n.Y)(c.A,{className:"restackIcon-XKvm2P",size:i})})}},60763:function(e,t,r){r.d(t,{f:()=>f});var n=r(10201),i=r(46271),o=r(27749),a=r(75840),c=r(99978),l=r(86500),s=r(88774),d=r(504),u=r(64127),m=r(37764),p=r(49807),h=r(57324);function f(e){var t,r;let{publication:f,post:v,comment:k,item:_,activityItem:C,twitterText:L,priority:y="secondary"}=e,g=(0,o.PK)(),Y=(0,a.T)(),A=(0,i.Jd)(),S=A?A.id.toString(36):void 0,b=_&&(0,m.tL)(_)&&"post"===_.type&&_.mediaClip?_.mediaClip:void 0,w=k?(0,p.Zgx)(k,{urlParams:{utm_source:h.VU.notesShareAction,r:S}}):v?(0,p.q$n)(f,v,{urlParams:{utm_source:h.VU.notesShareAction,r:S},mediaClip:b}):(null==C||null==(t=C.target_live_stream)?void 0:t.id)!=null?(0,p.Xrv)({liveStreamId:null==(r=C.target_live_stream)?void 0:r.id,utm_source:h.VU.activityItemShare}):null,I=(0,u.gz)({variant:"menu",url:w,twitterText:L,onLinkClicked:e=>{(0,l.u4)(l.qY.FEED_ITEM_SHARE_LINK_CLICKED,{type:e,shared_post_id:null==v?void 0:v.id,shared_comment_id:null==k?void 0:k.id})},comment:k});return(0,n.Y)(s.W1,{trigger:(0,n.Y)(c.w,{priority:y}),onOpen:()=>{_&&(0,d.Qb)(_,g,"share",{tabId:Y})},children:I})}},83269:function(e,t,r){r.d(t,{a:()=>i});var n=r(17402);function i(e){let[t,r]=(0,n.useState)(!1);return[t,t=>{r(!0),null==e||e(t)}]}},74579:function(e,t,r){r.d(t,{Y:()=>m});var n=r(69277),i=r(46271),o=r(27749),a=r(75840),c=r(12501),l=r(68349),s=r(504),d=r(5180),u=r(46453);function m(e,t,r){let m=(0,i.Jd)(),p=(0,d.wA)(),h=(0,o.PK)(),f=(0,a.T)(),{requireLogin:v}=(0,u.eE)(),k=(0,c.st)({pathname:"/api/v1/comment/".concat(e.id,"/reaction"),method:"POST"});return async i=>{if(i.preventDefault(),!m){null==v||v();return}let o=!r,a=null==t?void 0:t.publication;p({type:"comment_like",payload:{commentId:e.id,isLiked:o}});try{var c,d;await k.refetch({method:o?"POST":"DELETE",json:(0,n._)({publication_id:(null==a?void 0:a.id)||null,reaction:"â¤",tabId:f},o&&(null==t?void 0:t.context.type)==="comment_restack"&&{restacking_user_id:null==(d=t.context.users)||null==(c=d[0])?void 0:c.id})})}catch(t){p({type:"comment_like",payload:{commentId:e.id,isLiked:!o}}),alert((0,l.uX)(t));return}t&&(0,s.Qb)(t,h,"like",{tabId:f})}}},20474:function(e,t,r){r.d(t,{l:()=>s});var n=r(46271),i=r(27749),o=r(75840),a=r(504),c=r(46453),l=r(2481);function s(e,t){let r=(0,n.Jd)(),s=(0,i.PK)(),d=(0,o.T)(),u=(0,l.NP)(),{requireLogin:m}=(0,c.eE)(),p=(0,l.L6)(t);return n=>{var i,o;if(n.preventDefault(),!r){null==m||m();return}t&&(u.open({feedItem:t,parentPubId:null!=(i=e.publication_id)?i:void 0,parentPostId:null!=(o=e.post_id)?o:void 0,parentCommentId:e.id,tabId:d,surface:s}),(0,a.Qb)(t,s,"comment",{tabId:d,extraEventProps:{reply_requirement:p,reply_locked:!!p}}))}}},86473:function(e,t,r){r.d(t,{LX:()=>l,kE:()=>c,kS:()=>s,mp:()=>o,qW:()=>a});var n=r(60064),i=r(82776);function o(e){if(!e)return!1;let{publication:t,post:r}=e;return!!(r&&t&&!(0,i.commentsEnabledForPost)({publication:t,post:r}))}function a(e){if(!e)return!1;let{publication:t,post:r}=e;return!!r&&"everyone"!==r.write_comment_permissions||!!(r&&t&&!(0,i.restacksEnabledForPost)({publication:t,post:r}))}function c(e){return"primary"===e?"bold":"regular"}function l(e){return"primary"===e?n.tS:n.F0}function s(e){return"primary"===e?n.hx:n.P2}}}]);