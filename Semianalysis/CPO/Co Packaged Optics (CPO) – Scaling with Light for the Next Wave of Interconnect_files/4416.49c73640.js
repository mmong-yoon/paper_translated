"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["4416"],{96670:function(e,t,n){n.d(t,{A:()=>r});let r={mobileContainer:"mobileContainer-VYHM_K",imageContainer:"imageContainer-Xqytjt",hRule:"hRule-h3Z3UF",assetButtons:"assetButtons-qLcYTo",aspectRatioButton:"aspectRatioButton-x1zjUA",aspectRatioSelected:"aspectRatioSelected-FTsOFP",aspectRatioSelectedIcon:"aspectRatioSelectedIcon-VNG8Se"}},74055:function(e,t,n){n.d(t,{A:()=>r});let r={streamList:"streamList-OmTUej"}},43262:function(e,t,n){n.d(t,{J:()=>m,T:()=>g});var r=n(10201),i=n(22492),a=n(17402),o=n(87544),l=n(84605),s=n(44803),c=n(97515),u=n(82286),d=n(18189);function m(e){let{content:t,description:n,source:m="post"}=e,{iString:g}=(0,l.GO)();return(0,a.useEffect)(()=>{(0,s.u4)(d.q.AGE_GATING_VIEW_SEEN,{source:m,entity_id:t.id})},[m,t.id]),(0,r.Y)(c.p,{icon:(0,r.Y)(i.A,{}),title:g("Age-restricted content"),description:n,button:(0,r.FD)(u.Xn,{children:[(0,r.Y)(o.v,{content:t,source:m}),(0,r.Y)(o.W,{})]})})}function g(e){let{content:t,description:n,source:m="comment"}=e,{iString:g}=(0,l.GO)();return(0,a.useEffect)(()=>{(0,s.u4)(d.q.AGE_GATING_VIEW_SEEN,{source:m,entity_id:t.id})},[m,t.id]),(0,r.Y)(c.X,{icon:(0,r.Y)(i.A,{}),title:g("Age-restricted content"),description:n,button:(0,r.FD)(u.Xn,{children:[(0,r.Y)(o.v,{content:t,source:m}),(0,r.Y)(o.W,{})]}),paddingY:8})}},77334:function(e,t,n){n.d(t,{q:()=>f});var r=n(10201),i=n(32485),a=n.n(i),o=n(17402),l=n(69277),s=n(70408),c=n(97731);let u=e=>(0,r.FD)(c.A,(0,s._)((0,l._)({},e),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32},children:[(0,r.Y)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:e.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,r.Y)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:e.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,r.Y)("path",{d:"M16 18.5V8.5",stroke:e.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"})]}));var d=n(84605),m=n(57820),g=n(98949);let h="fullSize-W6Pwju",p="image-ZSouY2",f=e=>{let{img:t,imgDownload:n,shareData:i,useNativeShare:l,onClick:s}=e,{iString:c}=(0,d.GO)(),f=(0,o.useRef)(null),C=(0,o.useRef)(null),[v,w]=(0,o.useState)(!1),[k,b]=(0,o.useState)({right:0,bottom:0});(0,o.useEffect)(()=>{var e,t;let n=null==(e=f.current)?void 0:e.getBoundingClientRect(),r=null==(t=C.current)?void 0:t.getBoundingClientRect();n&&r&&b({right:r.right-n.right,bottom:r.bottom-n.bottom})},[f,C,t]);let Y=(0,o.useCallback)(async e=>{if(null==s||s(),l&&i)try{await navigator.share(i)}catch(e){}else{var t;let n=null==(t=f.current)?void 0:t.getBoundingClientRect();if(n){let t=e.clientX,r=e.clientY;(t<n.left||t>n.right||r<n.top||r>n.bottom)&&e.preventDefault()}}},[s,l,i]);return(0,r.Y)("a",{onClick:Y,href:l?void 0:n,download:!0,className:a()("link-HgTAJz",v&&"linkHovered-rnE2Gn",h),target:"_blank",children:(0,r.FD)("div",{ref:C,className:a()("root-gpHBEU",h),children:[!(0,g.Fr)()&&t&&(0,r.Y)("div",{className:"download-aYXb5J",style:k,children:(0,r.Y)(u,{stroke:"#404040",fill:"white"})}),!t&&(0,r.Y)("div",{className:a()(p,"imageLoading-BULJ5E"),children:(0,r.Y)(m.y$,{"aria-label":c("Loading")})}),t&&(0,r.Y)("img",{ref:f,src:t,alt:c("Download Image"),className:a()(h,p),onMouseEnter:()=>{w(!0)},onMouseLeave:()=>{w(!1)}})]})})}},21481:function(e,t,n){n.d(t,{Q:()=>f});var r=n(79785),i=n(10201),a=n(77334),o=n(1250),l=n(84605),s=n(93355),c=n(86500),u=n(3843),d=n(39318);function m(){let e=(0,r._)([""," has reached $10,000 in annual revenue"]);return m=function(){return e},e}function g(){let e=(0,r._)([""," has reached $1,000 in annual revenue"]);return g=function(){return e},e}function h(){let e=(0,r._)([""," has reached 100 subscribers"]);return h=function(){return e},e}function p(){let e=(0,r._)([""," has reached 1,000 subscribers"]);return p=function(){return e},e}n(6966);let f=e=>{let t,{pub:n,style:r,milestone:f}=e,{iString:C,iTemplate:v}=(0,l.GO)(),w=(0,o.OA)();switch(f){case u.Fh.ARR10K:t=v(m(),n.name);break;case u.Fh.ARR1K:t=v(g(),n.name);break;case u.ai.List100:t=v(h(),n.name);break;case u.ai.List1K:t=v(p(),n.name)}let{img:k,imgDownload:b,shareData:Y,useNativeShare:y}=(0,s.Y)({shareTitle:C("Share this milestone"),shareText:t,shareUrl:(0,d.$_T)(n),imageDownloadUrl:(0,d.ed9)(n,f,r,"".concat(f).concat(r.aspectRatio?" - ".concat(r.aspectRatio):"")),imageUrl:(0,d.ed9)(n,f,r,void 0),imageUrlSameOrigin:(0,d.T86)(n,f,r,{useRootDomain:null==w?void 0:w.isSubstack})});return(0,i.Y)(a.q,{img:k,imgDownload:b,shareData:Y,useNativeShare:y,onClick:()=>{(0,c.u4)(c.qY.MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{milestone:f,aspectRatio:r.aspectRatio,source:"image"})}})}},69141:function(e,t,n){n.d(t,{i:()=>u});var r=n(10201),i=n(77334),a=n(1250),o=n(84605),l=n(93355),s=n(86500),c=n(39318);n(34422);let u=e=>{let{pub:t,style:n}=e,{iString:u}=(0,o.GO)(),d=(0,a.OA)(),{img:m,imgDownload:g,shareData:h,useNativeShare:p}=(0,l.Y)({shareTitle:u("Share this publication"),shareText:t.hero_text,shareUrl:(0,c.$_T)(t),imageDownloadUrl:(0,c.gEL)(t,null,n,{fileToDownload:"Message".concat(n.aspectRatio?" - ".concat(n.aspectRatio):"")}),imageUrl:(0,c.gEL)(t,null,n),imageUrlSameOrigin:(0,c.Nlh)(t,n,{useRootDomain:null==d?void 0:d.isSubstack})});return(0,r.Y)(i.q,{img:m,imgDownload:g,shareData:h,useNativeShare:p,onClick:()=>{(0,s.u4)(s.qY.PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED,{aspectRatio:n.aspectRatio,source:"image"})}})}},77578:function(e,t,n){n.d(t,{C1:()=>g,Hg:()=>h,cK:()=>p,jK:()=>f});var r=n(10201),i=n(32485),a=n.n(i),o=n(45773),l=n(78834),s=n(70511),c=n(84605),u=n(35369),d=n(98949),m=n(19667);let g=["stories","instagram","square"],h=e=>{let{isSelected:t,value:n,onClick:i,coverImageUrl:l,themeVariables:s}=e,c=s.web_bg_color||s.cover_bg_color,d=s.print_on_web_bg_color||s.cover_print_primary||"#1a1a1a";return"accent"===n?(c=s.background_pop_color||s.background_pop,d=s.print_on_pop):"image"===n?(d="#ffffff",c="rgba(0,0,0,0.5)"):"black&white"===n&&(d="#404040",c="#ffffff"),(0,r.FD)(u.Nm,{width:28,height:28,style:{backgroundColor:c},flex:"auto",radius:"sm",overflow:"hidden",alignItems:"center",justifyContent:"center",sizing:"border-box",className:a()(m.A.customizeAssetButton,m.A.themeButton,t&&m.A.selected,"image"===n&&m.A.image),onClick:e=>{e.preventDefault(),i()},tabIndex:0,children:["image"===n&&(0,r.Y)("div",{className:m.A.imageBg,style:{backgroundImage:"url(".concat(l,")")}}),(0,r.Y)("div",{className:a()(m.A.inner,"image"===n&&m.A.image),children:t&&(0,r.Y)(o.A,{stroke:d,size:16,strokeWidth:2.5})})]})},p=e=>{let{isSelected:t,value:n,onClick:i}=e,a=function(e){let{iString:t}=(0,c.GO)(),n=(0,d.Fr)({checkFirst4:!0}),r={instagram:t("Instagram"),square:t("Square"),stories:t("Vertical")};return(n?{square:"1:1",instagram:"4:5",stories:"9:16"}:r)[e]}(n);return(0,r.Y)(u.$n,{size:"sm",priority:t?"primary-mono":"secondary",onClick:i,leading:"square"===n?(0,r.Y)(l.A,{size:20}):(0,r.Y)(s.A,{size:20}),children:a})},f=e=>{let{isSelected:t,label:n,onClick:i}=e;return(0,r.Y)(u.$n,{size:"sm",priority:t?"primary-mono":"secondary",onClick:i,children:n})}},2886:function(e,t,n){n.d(t,{b7:()=>d,zL:()=>u});var r=n(10201),i=n(77334),a=n(1250),o=n(84605),l=n(93355),s=n(86500),c=n(39318);n(25593);let u=e=>{let{pub:t,user:n,note:u,style:d}=e,{iString:m}=(0,o.GO)(),g=(0,a.OA)(),{img:h,imgDownload:p,shareData:f,useNativeShare:C}=(0,l.Y)({shareTitle:m("Share this message"),shareText:(null==u?void 0:u.note)||"",shareUrl:(0,c.$_T)(t),imageDownloadUrl:(0,c.pJR)(t,n,d,{fileToDownload:"Message".concat(d.aspectRatio?" - ".concat(d.aspectRatio):"")}),imageUrl:(0,c.pJR)(t,n,d),imageUrlSameOrigin:(0,c._cT)(t,n,d,{useRootDomain:null==g?void 0:g.isSubstack})});return(0,r.Y)(i.q,{img:h,imgDownload:p,shareData:f,useNativeShare:C,onClick:()=>{(0,s.u4)(s.qY.SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:n.id,aspectRatio:d.aspectRatio,source:"image"})}})},d=e=>{let{pub:t,user:n,note:u,style:d}=e,{iString:m}=(0,o.GO)(),g=(0,a.OA)(),{img:h,imgDownload:p,shareData:f,useNativeShare:C}=(0,l.Y)({shareTitle:m("Share this message"),shareText:(null==u?void 0:u.note)||"",shareUrl:(0,c.$_T)(t),imageDownloadUrl:(0,c.H_d)(t,n,d,{fileToDownload:"Message".concat(d.aspectRatio?" - ".concat(d.aspectRatio):"")}),imageUrl:(0,c.H_d)(t,n,d),imageUrlSameOrigin:(0,c.qw6)(t,n,d,{useRootDomain:null==g?void 0:g.isSubstack})});return(0,r.Y)(i.q,{img:h,imgDownload:p,shareData:f,useNativeShare:C,onClick:()=>{(0,s.u4)(s.qY.PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:n.id,aspectRatio:d.aspectRatio,source:"image"})}})}},42250:function(e,t,n){n.d(t,{A:()=>l});var r=n(99851),i=n(10201),a=n(17402);let o=!1;"undefined"!=typeof window&&(window.__captchaOnloadCallback=function(){if(o&&Array.isArray(o)){let e=o;for(let t of(o=!0,e))t()}});class l extends a.Component{async componentDidMount(){await new Promise(e=>{if(!0===o)e();else if(!1===o){var t;let n,r;o=[e],n=document.getElementsByTagName("script")[0],(r=document.createElement("script")).type="text/javascript",r.async=!0,r.defer=!0,r.src="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback",null==n||null==(t=n.parentNode)||t.insertBefore(r,n)}else o.push(e)}),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})}getResponse(){var e;return null==(e=window.grecaptcha)?void 0:e.getResponse(this.captchaId)}render(){let{className:e}=this.props;return(0,i.Y)("div",{className:e})}constructor(...e){super(...e),(0,r._)(this,"captchaId",void 0)}}},63701:function(e,t,n){n.d(t,{A:()=>s});var r=n(69277),i=n(70408),a=n(32641),o=n(10201),l=n(97731);let s=e=>{var{color:t="white"}=e,n=(0,a._)(e,["color"]);return(0,o.Y)(l.A,(0,i._)((0,r._)({},n),{name:"ActivityIconLiveStream",svgParams:{height:24,width:24,fill:t,stroke:"none"},children:(0,o.Y)("path",{d:"M2.09033 11.7192C2.09033 10.479 2.31006 9.30713 2.74951 8.20361C3.18896 7.09521 3.81396 6.11865 4.62451 5.27393C4.77588 5.10791 4.94678 5.02734 5.13721 5.03223C5.33252 5.03711 5.49365 5.11035 5.62061 5.25195C5.74756 5.38867 5.80127 5.5498 5.78174 5.73535C5.76221 5.91602 5.6792 6.08447 5.53271 6.24072C4.84912 6.9585 4.32422 7.78857 3.95801 8.73096C3.59668 9.66846 3.41602 10.6646 3.41602 11.7192C3.41602 12.7739 3.59668 13.7725 3.95801 14.7148C4.32422 15.6523 4.84912 16.4824 5.53271 17.2051C5.6792 17.3564 5.76221 17.5225 5.78174 17.7031C5.80127 17.8887 5.74756 18.0474 5.62061 18.1792C5.49365 18.3257 5.33252 18.3989 5.13721 18.3989C4.94678 18.4038 4.77588 18.3257 4.62451 18.1646C3.81396 17.3198 3.18896 16.3433 2.74951 15.2349C2.31006 14.1265 2.09033 12.9546 2.09033 11.7192ZM4.79297 11.7192C4.79297 10.8403 4.94434 10.0005 5.24707 9.19971C5.5498 8.39893 5.98438 7.69092 6.55078 7.07568C6.70215 6.90967 6.87793 6.82422 7.07812 6.81934C7.27832 6.81445 7.44434 6.89014 7.57617 7.04639C7.70312 7.19287 7.75439 7.354 7.72998 7.52979C7.71045 7.70557 7.625 7.87402 7.47363 8.03516C7.03418 8.5332 6.69727 9.09717 6.46289 9.72705C6.22852 10.3521 6.11133 11.0161 6.11133 11.7192C6.11133 12.4224 6.22852 13.0889 6.46289 13.7188C6.69727 14.3438 7.03418 14.9053 7.47363 15.4033C7.625 15.5645 7.71045 15.7329 7.72998 15.9087C7.75439 16.0845 7.70312 16.2456 7.57617 16.3921C7.44434 16.5483 7.27832 16.624 7.07812 16.6191C6.87793 16.6143 6.70215 16.5264 6.55078 16.3555C5.98438 15.7402 5.5498 15.0347 5.24707 14.2388C4.94434 13.438 4.79297 12.5981 4.79297 11.7192ZM7.48828 11.7192C7.48828 11.2212 7.56885 10.7427 7.72998 10.2837C7.89111 9.81982 8.12061 9.39746 8.41846 9.0166C8.56006 8.83594 8.7334 8.74316 8.93848 8.73828C9.14844 8.72852 9.32178 8.8042 9.4585 8.96533C9.59033 9.10205 9.6416 9.25586 9.6123 9.42676C9.58301 9.59277 9.50488 9.76611 9.37793 9.94678C9.19238 10.1909 9.05078 10.4644 8.95312 10.7671C8.86035 11.0649 8.81396 11.3823 8.81396 11.7192C8.81396 12.0562 8.86035 12.376 8.95312 12.6787C9.05078 12.9766 9.19238 13.2451 9.37793 13.4844C9.50488 13.6699 9.58301 13.8481 9.6123 14.019C9.6416 14.1851 9.59033 14.3364 9.4585 14.4731C9.32178 14.6343 9.14844 14.7124 8.93848 14.7075C8.7334 14.6978 8.56006 14.6001 8.41846 14.4146C8.12061 14.0386 7.89111 13.6211 7.72998 13.1621C7.56885 12.6982 7.48828 12.2173 7.48828 11.7192ZM16.5117 11.7192C16.5117 12.2173 16.4312 12.6982 16.27 13.1621C16.1089 13.6211 15.8794 14.0386 15.5815 14.4146C15.4351 14.6001 15.2593 14.6978 15.0542 14.7075C14.8491 14.7124 14.6782 14.6343 14.5415 14.4731C14.4097 14.3364 14.3584 14.1851 14.3877 14.019C14.417 13.8481 14.4951 13.6699 14.6221 13.4844C14.8076 13.2451 14.9468 12.9766 15.0396 12.6787C15.1372 12.376 15.186 12.0562 15.186 11.7192C15.186 11.3823 15.1372 11.0649 15.0396 10.7671C14.9468 10.4644 14.8076 10.1909 14.6221 9.94678C14.4951 9.76611 14.417 9.59277 14.3877 9.42676C14.3584 9.25586 14.4097 9.10205 14.5415 8.96533C14.6782 8.8042 14.8491 8.72852 15.0542 8.73828C15.2593 8.74316 15.4351 8.83594 15.5815 9.0166C15.8794 9.39746 16.1089 9.81982 16.27 10.2837C16.4312 10.7427 16.5117 11.2212 16.5117 11.7192ZM19.207 11.7192C19.207 12.5981 19.0557 13.438 18.7529 14.2388C18.4502 15.0347 18.0156 15.7402 17.4492 16.3555C17.2979 16.5264 17.1221 16.6143 16.9219 16.6191C16.7217 16.624 16.5557 16.5483 16.4238 16.3921C16.2969 16.2456 16.2432 16.0845 16.2627 15.9087C16.2871 15.7329 16.3726 15.5645 16.519 15.4033C16.9634 14.9053 17.3027 14.3438 17.5371 13.7188C17.7715 13.0889 17.8887 12.4224 17.8887 11.7192C17.8887 11.0161 17.7715 10.3521 17.5371 9.72705C17.3027 9.09717 16.9634 8.5332 16.519 8.03516C16.3726 7.87402 16.2871 7.70557 16.2627 7.52979C16.2432 7.354 16.2969 7.19287 16.4238 7.04639C16.5557 6.89014 16.7217 6.81445 16.9219 6.81934C17.1221 6.82422 17.2979 6.90967 17.4492 7.07568C18.0156 7.69092 18.4502 8.39893 18.7529 9.19971C19.0557 10.0005 19.207 10.8403 19.207 11.7192ZM21.9097 11.7192C21.9097 12.9546 21.6875 14.1265 21.2432 15.2349C20.8037 16.3433 20.1787 17.3198 19.3682 18.1646C19.2217 18.3257 19.0508 18.4038 18.8555 18.3989C18.665 18.3989 18.5063 18.3257 18.3794 18.1792C18.2524 18.0474 18.1987 17.8887 18.2183 17.7031C18.2378 17.5225 18.3208 17.3564 18.4673 17.2051C19.1509 16.4824 19.6733 15.6523 20.0347 14.7148C20.4009 13.7725 20.584 12.7739 20.584 11.7192C20.584 10.6646 20.4009 9.66846 20.0347 8.73096C19.6733 7.78857 19.1509 6.9585 18.4673 6.24072C18.3208 6.08447 18.2378 5.91602 18.2183 5.73535C18.1987 5.5498 18.2524 5.38867 18.3794 5.25195C18.5063 5.11035 18.665 5.03711 18.8555 5.03223C19.0508 5.02734 19.2217 5.10791 19.3682 5.27393C20.1787 6.11865 20.8037 7.09521 21.2432 8.20361C21.6875 9.30713 21.9097 10.479 21.9097 11.7192ZM10.5645 11.7339C10.5645 11.4751 10.6304 11.2358 10.7622 11.0161C10.894 10.7964 11.0674 10.6206 11.2822 10.4888C11.502 10.3521 11.7461 10.2837 12.0146 10.2837C12.4053 10.2837 12.7373 10.4253 13.0107 10.7085C13.2891 10.9868 13.4282 11.3237 13.4282 11.7192C13.4282 11.978 13.3623 12.2148 13.2305 12.4297C13.1035 12.6445 12.9326 12.8179 12.7178 12.9497C12.5029 13.0767 12.2686 13.1401 12.0146 13.1401C11.751 13.1401 11.5093 13.0767 11.2896 12.9497C11.0747 12.8179 10.8989 12.647 10.7622 12.437C10.6304 12.2222 10.5645 11.9878 10.5645 11.7339Z"})}))}},1250:function(e,t,n){n.d(t,{OA:()=>o,TN:()=>l,oB:()=>a});var r=n(10201),i=n(17402);let a=(0,i.createContext)({isSubstack:!1,customDomain:null});function o(){return(0,i.useContext)(a)}function l(e){let{value:t,children:n}=e,o=(0,i.useMemo)(()=>t,Object.values(t));return(0,r.Y)(a.Provider,{value:o,children:n})}a.displayName="DomainInfoContext"},72026:function(e,t,n){n.d(t,{D:()=>i});var r=n(10201);function i(e){let{size:t=20,stroke:n="var(--color-light-fg-secondary)"}=e;return(0,r.Y)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,xmlns:"http://www.w3.org/2000/svg",children:(0,r.Y)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"})})}},78479:function(e,t,n){n.d(t,{DP:()=>T,_3:()=>Z,sc:()=>J});var r=n(69277),i=n(70408),a=n(10201),o=n(32485),l=n.n(o),s=n(83673),c=n.n(s),u=n(69308),d=n(87332),m=n(17402),g=n(38305),h=n(96790),p=n(2675),f=n(39520),C=n(62076),v=n(56804),w=n(89490),k=n(76977),b=n(63136),Y=n(83629),y=n(72104),_=n(95951),A=n(18947),D=n(82776),S=n(26620);let E="quote_preferences",I={name:"DarkMuted",alignment:"left"},M=(0,m.createContext)({preferredTheme:I,setPreferredTheme:()=>{}});function T(e){var t,n,o;let{attachment:l,readOnly:s,onClick:c,onSavePostClick:u,onThemeChange:d,isPermalink:g,isComposing:h,isRestack:p,noRadius:f,lineClamp:C="dynamic"}=e,{preferredTheme:v,setPreferredTheme:w}=Z(),{postSelection:b,post:Y,publication:_,postSelectionTheme:A}=l,[D,E]=(0,m.useState)(null!=A?A:h?v:I),M=b.text.length<100,T=null!=(t=Y.coverImagePalette)?t:null,R=e=>{let{name:t,alignment:n}=e,r={name:null!=t?t:D.name,alignment:null!=n?n:D.alignment};w(r),E(r),null==d||d(r)},L=H(D.name,{size:{width:520},palette:T,coverImage:null!=(n=Y.cover_image)?n:void 0}),O=Object.keys(y.D.image).includes(D.name),U=Object.keys(y.D.basic).includes(D.name),q="blurredImage"===D.name,V="tintedImageVibrant"===D.name||"tintedImageMuted"===D.name,j=U?"1.0":.6;return(0,a.FD)(k.I1,{gap:4,paddingTop:p?4:void 0,children:[(0,a.Y)(N,{readOnly:s,onClick:c,publication:_,post:Y,postSelection:b,className:U?"":S.A.themed,isRestack:p,noRadius:f,children:(0,a.Y)(x,{text:b.text,isShort:M,isImage:O,isBasic:U,publication:_,post:Y,onSavePostClick:u,palette:T,alignment:D.alignment,isPermalink:g,isComposing:h,isRestack:p,lineClamp:C,children:O?V?(0,a.Y)(B,{style:L||void 0,palette:T,themeName:D.name}):(0,a.Y)(P,{style:L||void 0,className:q?S.A.blurred:void 0}):(0,a.Y)(F,{style:(0,i._)((0,r._)({},L),{"--backdrop-opacity":"".concat(j)})})})}),h&&(0,a.Y)(z,{palette:T,onColorSelect:e=>R({name:e}),onAlignmentSelect:e=>R({alignment:e}),selectedColorKey:D.name,coverImage:null!=(o=Y.cover_image)?o:void 0,alignment:D.alignment})]})}function N(e){let{readOnly:t,onClick:n,publication:r,post:i,postSelection:o,children:s,className:c,isRestack:u,noRadius:d}=e,m=t?void 0:(0,A.wu)(r,i,{feedViewer:!1,urlParams:{selection:o.id}});return(0,a.Y)(k.I1,{className:l()(S.A.container,c),as:t?"div":"a",position:"relative",onClick:e=>{n&&n(),Y.Z&&!t&&(0,v.o)(e,(0,A.wu)(r,i,{noBase:!0,feedViewer:!0,urlParams:{selection:o.id}}))},href:m,draggable:!1,showFocus:!0,animate:!0,radius:d?void 0:u?"sm":"md",overflow:"hidden",children:s})}function x(e){let{text:t,isShort:n,isImage:r,isBasic:i,palette:o,publication:s,post:c,onSavePostClick:u,alignment:d,children:m,isPermalink:g,isComposing:h,isRestack:p,lineClamp:f}=e;return(0,a.FD)(k.I1,{padding:20,zIndex:1,className:l()(S.A.header,g&&S.A.permalink,p&&S.A.restack),justifyContent:"space-between",gap:24,children:[m,(0,a.Y)(L,{text:t,isShort:n,isImage:r,isVibrant:!i,alignment:d,lineClamp:f}),(0,a.Y)(O,{publication:s,post:c,onSavePostClick:u,isVibrant:!i,palette:o,isComposing:h})]})}let R=[{minLines:12,truncateTo:8},{minLines:16,truncateTo:12}];function L(e){let{text:t,isShort:n,isImage:r,isVibrant:i,alignment:o="left",lineClamp:s}=e,[c,u]=(0,m.useState)(!1),d="dynamic"===s&&!c,{truncatedText:g,measureRef:p,lineCount:C}=(0,f.L)({text:t,truncationRules:d?R:[],ellipsesText:"... See more"}),v=t!==g&&!c,Y=l()(S.A.text,n&&S.A.short,r&&S.A.imageText,4===s&&S.A["lineClamp-4"]);return(0,a.FD)(k.I1,{gap:12,justifyContent:"center"===o?"center":"start",alignItems:"center"===o?"center":"start",flex:"grow",children:[(0,a.Y)(h.A,{color:i?"var(--color-utility-white)":"var(--color-fg-tertiary)"}),(0,a.FD)(w.az,{position:"relative",children:[(0,a.Y)(b.EY,{font:"serif",color:i?"vibrance-primary":"primary",className:Y,align:o,children:v?(0,a.FD)(a.FK,{children:[(0,D.formatEllipsis)(g,"... "),(0,a.Y)(b.EY,{translated:!0,as:"span",font:"serif",color:i?"vibrance-secondary":"secondary",weight:"medium",cursor:"pointer",onClick:e=>{C&&C<=16&&(e.preventDefault(),e.stopPropagation(),u(!0))},children:"See more"})]}):t}),d&&(0,a.Y)("div",{ref:p,className:Y,style:{visibility:"hidden",position:"absolute",width:"100%",fontFamily:"var(--font-family-serif)",textAlign:"center"===o?"center":"left"}})]})]})}function O(e){var t;let{publication:n,post:r,palette:i,onSavePostClick:o,isVibrant:l,isComposing:s}=e,c=0===(t=r).publishedBylines.length?null:(0,a.Y)(g.K,{array:t.publishedBylines,limit:3,formatter:e=>e.name}),u=null!=c?c:n.name;return(0,a.FD)(k.Ye,{gap:8,alignItems:"center",minWidth:0,height:20,children:[(0,a.Y)(b.EY.B4,{weight:"regular",color:l?"vibrance-secondary":"secondary",ellipsis:!0,nowrap:!0,flex:"grow",decoration:"hover-underline",children:u}),!s&&o&&(0,a.Y)(p.xr,{post:r,palette:i&&l?i:null,onSavePostClick:o,className:S.A.saveButton})]})}function F(e){let{style:t,className:n,children:r}=e;return(0,a.Y)(w.az,{style:t,className:l()(S.A.backdrop,n),children:r})}function P(e){let{style:t,className:n}=e;return(0,a.Y)(F,{className:S.A.faded,children:(0,a.Y)(w.az,{style:t,className:l()(S.A.imageBackdrop,n)})})}function B(e){let{style:t,className:n,palette:r,themeName:i}=e,o=(0,p.Uo)(r||null,"tintedImageVibrant"===i?"DarkVibrant":"DarkMuted");return(0,a.FD)(F,{className:S.A.faded,children:[(0,a.Y)(w.az,{style:t,className:l()(S.A.imageBackdrop,S.A.tinted,n)}),(0,a.Y)(w.az,{style:o,className:S.A.tint})]})}function z(e){let{palette:t,selectedColorKey:n,coverImage:r,alignment:i,onColorSelect:o,onAlignmentSelect:l}=e;return(0,a.FD)(k.Ye,{justifyContent:"space-between",alignItems:"center",bg:"primary",cursor:"default",onClick:e=>e.stopPropagation(),gap:20,paddingTop:8,paddingBottom:16,height:28,children:[(0,a.Y)(U,{palette:t,onColorSelect:o,selectedColorKey:n,coverImage:r}),(0,a.Y)(q,{alignment:i,onAlignmentSelect:l})]})}function U(e){let{palette:t,onColorSelect:n,selectedColorKey:r,coverImage:i}=e,o=(0,y.k)({coverImage:i,palette:null!=t?t:void 0}),l=c()(o.map(e=>{let n=H(e,{size:{width:26,height:28},palette:t,coverImage:i});return n?{key:e,style:n}:null}));return(0,a.Y)(V,{children:l.map(e=>{let{key:i,style:o}=e;return(0,a.Y)(j,{swatchKey:i,style:o,isSelected:r===i,onClick:e=>{e.preventDefault(),e.stopPropagation(),n(i)},palette:t})})})}function q(e){let{alignment:t,onAlignmentSelect:n}=e,r=_.zr;return(0,a.Y)(V,{children:r.map(e=>(0,a.Y)(K,{alignment:e,onClick:()=>n(e),isSelected:t===e}))})}function V(e){let{children:t}=e;return(0,a.Y)(k.Ye,{gap:8,className:S.A.swatchesContainer,children:t})}function j(e){let{swatchKey:t,style:n,palette:r,isSelected:i,onClick:o}=e;return t in y.D.image?(0,a.Y)(G,{swatchKey:t,style:n,onClick:o,isSelected:i,palette:r}):(0,a.Y)(W,{swatchKey:t,style:n,onClick:o,isSelected:i})}function G(e){let{swatchKey:t,style:n,onClick:r,isSelected:i,palette:o}=e,s="blurredImage"===t,c="tintedImageVibrant"===t||"tintedImageMuted"===t,u=(0,p.Uo)(o||null,"tintedImageVibrant"===t?"DarkVibrant":"DarkMuted");return(0,a.FD)($,{isSelected:i,children:[(0,a.Y)(w.az,{onClick:r,width:28,height:28,title:t,flex:"auto",className:l()(S.A.swatch,i&&S.A.selected,s&&S.A.blurred,c&&S.A.tinted),style:n},t),c&&(0,a.Y)(w.az,{style:u,className:S.A.tint})]})}function W(e){var t;let{swatchKey:n,style:r,onClick:i,isSelected:o}=e;return(0,a.Y)($,{isSelected:o,children:(0,a.Y)(w.az,{onClick:i,width:28,height:28,title:(t=n,"Theme ".concat(t)),style:r},n)})}function K(e){var t;let{alignment:n,onClick:r,isSelected:i}=e,o=i?"var(--color-fg-primary)":"var(--color-fg-secondary)";return(0,a.Y)($,{isSelected:i,className:S.A.alignmentSwatchContainer,children:(0,a.Y)(k.pT,{onClick:r,title:(t=n,"Align ".concat(t)),children:"left"===n?(0,a.Y)(u.A,{stroke:o,size:16}):(0,a.Y)(d.A,{stroke:o,size:16})},n)})}function $(e){let{isSelected:t,children:n,className:r}=e;return(0,a.Y)(k.pT,{width:28,height:28,radius:"sm",outline:"detail",flex:"auto",cursor:"pointer",overflow:"hidden",sizing:"border-box",position:"relative",alignItems:"center",justifyContent:"center",animate:!0,className:l()(S.A.swatchContainer,t&&S.A.selected,r),tabIndex:0,children:n})}function H(e,t){let{size:n,palette:r,coverImage:i}=t;if(e in y.D.basic)return{background:y.D.basic[e]};if(e in y.D.custom)return{background:"linear-gradient(180deg, ".concat(y.D.custom[e],", ").concat(y.D.custom[e],"), var(--color-dark-bg-primary)")};if(e in y.D.image){if(!i)return;return{backgroundImage:(0,C.k)(i,n),backgroundSize:"cover",backgroundPosition:"center"}}return(0,p.Uo)(r||null,e)}function Z(){let e=(0,m.useContext)(M);if(!e)throw Error("useQuotePreferences must be used within QuotePreferencesProvider");return e}function J(e){let{children:t}=e,[n,i]=(0,m.useState)(function(){if("undefined"==typeof localStorage)return I;try{let e=localStorage.getItem(E);if(!e)return I;return(0,r._)({},I,JSON.parse(e))}catch(e){return console.error("Error reading quote preferredTheme:",e),I}}()),o=(0,m.useCallback)(e=>{i(t=>{let n=(0,r._)({},t,e);try{localStorage.setItem(E,JSON.stringify(n))}catch(e){console.error("Storage error:",e)}return n})},[]);return(0,a.Y)(M.Provider,{value:{preferredTheme:n,setPreferredTheme:o},children:t})}},6547:function(e,t,n){n.d(t,{A:()=>l});var r=n(69277),i=n(70408),a=n(32641),o=n(10201);function l(e){var{size:t=20,stroke:n="var(--color-light-fg-secondary)"}=e,l=(0,a._)(e,["size","stroke"]);return(0,o.Y)("svg",(0,i._)((0,r._)({},l),{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,xmlns:"http://www.w3.org/2000/svg",children:(0,o.Y)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"})}))}},43294:function(e,t,n){n.d(t,{X:()=>i});var r=n(17402);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{var e;null==(e=t.current)||e.focus()},[]),t}},56007:function(e,t,n){n.d(t,{Ho:()=>d,dj:()=>m,tE:()=>u});var r=n(69277),i=n(70408),a=n(10201),o=n(28001),l=n(17402),s=n(58526);let c=(0,l.createContext)({popToast:()=>{throw Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function u(e){let{children:t}=e,[n,r]=(0,l.useState)([]),[i,u]=(0,l.useState)(0),d=(0,l.useRef)(0);return(0,a.Y)(o.Kq,{duration:5e3,swipeThreshold:20,swipeDirection:"down",children:(0,a.FD)(c.Provider,{value:{popToast:e=>{let t="toast-".concat(d.current++),n=e(),i=l.default.cloneElement(n,{key:t,onOpenChange:e=>{e||setTimeout(()=>{r(e=>e.filter(e=>e.id!==t))},200)}});r(e=>[...e,{id:t,element:i}])},addOffset:e=>{u(Math.min(i+e,0))}},children:[t,n.map(e=>e.element),(0,a.Y)(s.U,{offset:i})]})})}let d=e=>{let t=(0,l.forwardRef)((t,n)=>{let o=m();return(0,a.Y)(e,(0,i._)((0,r._)({},o,t),{ref:n}))});return t.displayName="withToastContext(".concat(e.name||e.displayName||"Anonymous",")"),t};function m(){return(0,l.useContext)(c)}},75990:function(e,t,n){n.d(t,{D:()=>s});var r=n(10201),i=n(17402),a=n(93355),o=n(62870),l=n(98949);function s(e){let{pub:t,post:n,style:s,source:c,size:u,hoverOverlay:d=!0}=e,{img:m,imgDownload:g,shareData:h,useNativeShare:p}=(0,a.Y)((0,o.wj)({pub:t,post:n,style:s})),f=(0,i.useCallback)(async()=>{await (0,o.f3)({post_id:n.id,type:"post_asset",aspect_ratio:s.aspectRatio,source:c,shareData:p?h:void 0,eventName:"WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED"})},[n.id,s.aspectRatio,c,p,h]);return(0,r.Y)(o.Cs,{onClick:f,href:p?void 0:g,children:(0,r.FD)(o.OK,{size:u,children:[!(0,l.Fr)()&&m&&d&&(0,r.Y)(o.lh,{onClick:f}),(0,r.Y)(o.BB,{img:m})]})})}},22238:function(e,t,n){n.d(t,{Q:()=>Y});var r=n(79785),i=n(10201),a=n(54718),o=n(82853),l=n(32708),s=n(84605),c=n(46271),u=n(94729),d=n(68349),m=n(35369),g=n(17028),h=n(88774),p=n(78526),f=n(16291),C=n(92636),v=n(49807);function w(){let e=(0,r._)(["Today at ",""]);return w=function(){return e},e}function k(){let e=(0,r._)(["Tomorrow at ",""]);return k=function(){return e},e}function b(){let e=(0,r._)([""," at ",""]);return b=function(){return e},e}function Y(e){var t,n;let{stream:r,onCancelStream:Y}=e,{iString:y,iTemplate:_}=(0,s.GO)(),{user:A}=(0,c.ur)(),D=(0,p.L)(),{liveStream:S}=r,E=(null==(t=r.pub)?void 0:t.subdomain)||(null==A||null==(n=A.primary_publication)?void 0:n.subdomain)||"",I=(0,C.$_)({subdomain:E}),M="".concat(I,"/publish/home?action=setup-live-stream&stream_id=").concat(S.id),T=(0,v.Xrv)({liveStreamId:S.id}),N=(0,f.A)(),x=(0,f.A)(S.scheduled_at),R=x.format("h:mm A"),L=x.format("MMM D"),O="";S.scheduled_at&&(O=x.isSame(N,"day")?_(w(),R):x.isSame(N.add(1,"day"),"day")?_(k(),R):_(b(),L,R));let F=async()=>{try{await (0,u.x6)("/api/v1/live_stream/".concat(S.id,"/cancel"),{method:"PUT"}),Y(S.id)}catch(e){console.error("Error canceling stream:",e)}};return(0,i.FD)(g.Ye,{alignItems:"center",justifyContent:"space-between",gap:12,children:[(0,i.FD)(g.I1,{gap:4,flex:"grow",style:{minWidth:0},children:[(0,i.Y)(g.EY.B3,{fontWeight:"medium",ellipsis:!0,children:S.title}),(0,i.FD)(g.Ye,{alignItems:"center",gap:8,children:[(0,i.Y)(g.EY.B4,{color:"secondary",children:O}),S.is_rtmp&&(0,i.Y)(g.pT,{bg:"accent-red",radius:"sm",paddingX:6,paddingY:2,style:{flexShrink:0},children:(0,i.Y)(g.EY.B5,{fontWeight:"medium",children:y("RTMP live video")})})]})]}),(0,i.FD)(g.Ye,{alignItems:"center",gap:8,style:{flexShrink:0},children:[(0,i.Y)(m.$n,{priority:"secondary",onClick:()=>{(0,d.V2)(S.is_rtmp?M:T,{local_navigation:!1})},children:y("View stream page")}),(0,i.FD)(h.W1,{trigger:(0,i.Y)(m.K0,{"aria-label":y("More options"),priority:"secondary",children:(0,i.Y)(a.A,{size:20})}),children:[(0,i.Y)(h.Dr,{onClick:()=>{D(T)},leading:(0,i.Y)(o.A,{}),children:y("Copy link")}),(0,i.Y)(h.H9,{children:(0,i.Y)(h.Dr,{priority:"destructive",onClick:F,leading:(0,i.Y)(l.A,{}),children:y("Cancel")})})]})]})]})}},62488:function(e,t,n){n.d(t,{Z:()=>a,t:()=>i});var r=n(17402);let i=(0,r.createContext)("unknown");function a(){return(0,r.useContext)(i)}},30042:function(e,t,n){n.d(t,{p:()=>r});function r(e){return"direct-message"===e?"people":"all"}},70486:function(e,t,n){n.d(t,{Pk:()=>u,Vn:()=>c,a8:()=>d,qe:()=>l,v$:()=>o,wA:()=>s});var r=n(69277),i=n(17402),a=n(76528);let o={user:null,inbox:{threadList:[],threads:new Map,filter:"all",resources:{all:{isLoading:!0,hasMore:!1},people:{isLoading:!0,hasMore:!1}}},users:new Map,profiles:new Map,communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map,conversations:new Map,publications:new Map,notes:new Map,editingPost:null},l=(0,i.createContext)(()=>Promise.resolve());function s(){return(0,i.useContext)(l)}let c=(0,i.createContext)(o);function u(){return(0,i.useContext)(c)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=s();return(0,a.OU)("/api/v1/messages/unread-count",e,(0,r._)({focusThrottleInterval:3e5,onSuccess(e){n&&n({type:"inbox-unread_count",payload:e})}},t))}},69911:function(e,t,n){n.d(t,{H:()=>a});var r=n(68090),i=n.n(r);function a(e,t){var n;let r=e.conversations.get(t.messageThreadId),a=t.recentMessageId?e.communityComments.get(t.recentMessageId):null,o=i()(null!=(n=null==r?void 0:r.replyIds)?n:[]),l=o?e.communityComments.get(o):null;return a?l?a.comment.created_at>l.comment.created_at?a:l:a:l}},26095:function(e,t,n){n.d(t,{x:()=>r});function r(e){let t=0,n=()=>{let{visibilityState:n="visible"}=document,r=Date.now();"hidden"!==n&&r-t>2e3&&(e(),t=r)};return window.addEventListener("online",n),document.addEventListener("visibilitychange",n),window.addEventListener("focus",n),()=>{window.removeEventListener("online",n),document.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},93812:function(e,t,n){n.d(t,{kE:()=>o});var r=n(69277),i=n(70408);n(10201),n(24142),n(72880),n(89607),n(95282),n(58292),n(60897),n(24078),n(89490),n(16074),n(76977),n(63136),n(70568),n(49095),n(16291);var a=n(49807);function o(e){let{variant:t,backgroundImageSrc:n,width:o,height:l}=e,s=function(e){let{variant:t,backgroundImageSrc:n,width:o,height:l}=e,s={quality:"auto:best"};switch(t){case"blur":return n?{src:(0,a.dJ9)(n,null,{aspect:l/o}),imgProps:(0,i._)((0,r._)({},s),{crop:"thumb",height:l})}:null;case"dots":return{src:"/img/notes_share_assets/2x/dots.png",imgProps:s};case"green":return{src:"/img/notes_share_assets/2x/green_v2.png",imgProps:s};case"rainbow":return{src:"/img/notes_share_assets/2x/rainbow.png",imgProps:s};default:return null}}({variant:t,backgroundImageSrc:n,width:o,height:l});return s?{type:"img",src:s.src,imgProps:s.imgProps}:{type:"css",style:function(e){switch(e){case"dark":return{background:"linear-gradient(233deg, #343434 0%, #212121 53.12%, #141414 100.62%)"};case"light":return{background:"linear-gradient(233deg, #EEE 0%, #DEDEDE 53.12%, #C9C9C9 100.62%)"};case"orange":return{background:"linear-gradient(180deg, #FF6719 0%, #FF742D 0.01%, #FF6719 19.79%, #FF5E19 100%)"};case"dots":case"rainbow":case"green":case"blur":return{background:""};default:return console.warn("Unknown variant:",e),{background:""}}}(t)}}},29682:function(e,t,n){n.d(t,{ix:()=>r,yo:()=>i});let r=["orange","dark","light","dots","rainbow","green","blur"],i=["grid","stories"]},15567:function(e,t,n){n.d(t,{p6:()=>o,pV:()=>l,qO:()=>s,tv:()=>a});var r=n(92636),i=n(49807);function a(e,t){return(0,r.c$)("/chat/".concat(e),t)}function o(e,t){return(0,r.c$)("/chat/".concat(e),t)}function l(e){return(0,r.c$)("/chat/new",e)}function s(e){let{userId:t,userName:n}=e,a=(0,i.LRz)({userId:t,userName:n});return"".concat((0,r.qd)(),"/chat/dm/user/").concat(a)}}}]);