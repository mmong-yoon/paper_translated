"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["2531"],{15975:function(e,t,i){i(10201),i(17402)},37552:function(e,t,i){i.d(t,{G:()=>n.Gt});var n=i(30)},85854:function(e,t,i){i(17402)},93427:function(e,t,i){i.d(t,{XV:()=>d,kw:()=>c,xw:()=>m});var n=i(10201),r=i(32485),o=i.n(r),l=i(17402),a=i(308),s=i(32810);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.Y)(u,{}),[i,r]=(0,l.useState)(e);return[i&&t,()=>{r(!1)}]}function u(){return(0,n.Y)(m,{})}function m(e){let{className:t}=e;return(0,n.Y)(d,{className:o()(t,"reader2-unread-dot")})}let d=(0,a.a)(s.A.unreadDot)},15454:function(e,t,i){i.d(t,{Eg:()=>eY,OI:()=>eU,WN:()=>eP,zC:()=>ek,zx:()=>eB});var n=i(69277),r=i(70408),o=i(10201),l=i(32485),a=i.n(l),s=i(2404),c=i.n(s),u=i(82853),m=i(38376),d=i(49436),_=i(54718),p=i(17402),v=i(27437),y=i(73912),g=i(36914),h=i(10091),f=i(63701),b=i(64949),k=i(92409),Y=i(95967),w=i(93747),F=i(6403),S=i(56418),I=i(2791);i(79909);var A=i(82936),D=i(1250),x=i(58050),C=i(84605);i(97640),i(15975),i(85478);var T=i(46271),q=i(42686),K=i(95282);i(27749);var M=i(77405);i(75840);var E=i(25859),B=i(4560),P=i(60763),V=i(58292),z=i(86500),U=i(94729),$=i(37552);i(12501);var N=i(82772),O=i(68349),j=i(38914),L=i(24078),W=i(22057),Z=i(35369),G=i(17028);i(97515);var R=i(76977),X=i(88774);i(57820);var H=i(81203);i(21356);var J=i(63136),Q=i(36372),ee=i(8295),et=i(87458);i(45368),i(95034),i(11710);var ei=i(91324),en=i(52145),er=i(504);i(5180);var eo=i(83629),el=i(73357);i(46453);var ea=i(2548);i(85854);var es=i(93427);i(45937),i(11510);var ec=i(49095),eu=i(16291),em=i(96400),ed=i(56262),e_=i(37764),ep=i(39318),ev=i(15567),ey=i(25026),eg=i(49807),eh=i(82776),ef=i(57324),eb=i(80091);function ek(e){var t,i;let{activityResult:o,activityResultMaps:l,feedState:a,item:s,idx:c}=e,{publications:u,posts:m,users:d,comments:_,mentions:p,communityComments:v,communityPosts:y,liveStreams:g,liveStreamInvites:h,drafts:f,viralGifts:b,feedItemComments:k,mediaClips:Y}=l,w=a.comments.size?a.comments:_,F=s.comment_id||s.target_comment_id;return(0,r._)((0,n._)({},s),{idx:c,pub:s.publication_id&&u.get(s.publication_id),post:s.target_post_id&&null!=(i=null!=(t=m.get(s.target_post_id))?t:f.get(s.target_post_id))?i:null,media_clip:s.target_media_clip_id?Y.get(s.target_media_clip_id):null,recent_senders:s.recent_sender_ids&&(0,$.G)(s.recent_sender_ids,e=>d.get(e)),comment:s.comment_id&&w.get(s.comment_id)||null,target_comment:s.target_comment_id&&w.get(s.target_comment_id)||null,target_user:s.target_user_id&&d.get(s.target_user_id)||null,mention:s.mention_id&&p.get(s.mention_id)||null,community_post:null,community_comment:s.community_comment_id&&v.get(s.community_comment_id)||null,target_community_post:s.target_community_post_id&&y.get(s.target_community_post_id)||null,target_community_comment:s.target_community_comment_id&&v.get(s.target_community_comment_id)||null,subscription_context:o.itemKeyToSubscriptionContext[s.item_key],target_subscription_note:o.subscriptionNotes.find(e=>{let{publication_id:t,user_id:i}=e;return t===s.publication_id&&i===s.target_user_id}),target_pledge_note:o.pledgeNotes.find(e=>{let{publication_id:t,user_id:i}=e;return t===s.publication_id&&i===s.target_user_id}),feed_item_comment:F&&k.get(F)||null,target_live_stream:("live_stream"===s.type||"live_stream_invite"===s.type||"live_stream_scheduled"===s.type||"live_stream_scheduled_invite"===s.type)&&s.target_live_stream_id&&g.get(s.target_live_stream_id)?g.get(s.target_live_stream_id):null,target_live_stream_invite:("live_stream"===s.type||"live_stream_invite"===s.type||"live_stream_scheduled_invite"===s.type)&&s.target_live_stream_invite_id&&h.get(s.target_live_stream_invite_id)?h.get(s.target_live_stream_invite_id):null,target_live_stream_published_media_upload:function(e){var t;let{item:i,liveStreamPublishedMediaUploads:n,users:r,liveStreamInvites:o}=e;return"live_stream"===i.type&&i.target_live_stream_id?null!=(t=n.find(e=>{if(e.live_stream_id!==i.target_live_stream_id)return!1;if(i.target_live_stream_invite_id){var t,n,l;let a=r.get(null!=(l=null==(t=o.get(i.target_live_stream_invite_id))?void 0:t.invited_user_id)?l:0);return(null==a||null==(n=a.primary_publication)?void 0:n.id)===e.publication_id}return!0}))?t:n.find(e=>e.live_stream_id===i.target_live_stream_id):void 0}({item:s,liveStreamPublishedMediaUploads:o.liveStreamPublishedMediaUploads,users:d,liveStreamInvites:h}),viral_gifts:"viral_gift_granted"===s.type&&s.publication_id&&b.get(s.publication_id)?b.get(s.publication_id):null})}let eY=(0,p.memo)(e=>{let{item:t,isUnread:i,readOnly:n}=e,r=eN((0,T.Jd)(),t)?ew:eF;return(0,o.Y)(eI,{item:t,isUnread:i,readOnly:n,children:(0,o.FD)(R.I1,{gap:4,flex:"grow",minWidth:0,children:[(0,o.Y)(ex,{namedSenders:t.recent_senders.slice(0,2),item:t}),(0,o.Y)(r,{item:t})]})})},c()),ew=e=>{let{item:t}=e,i=t.comment||t.target_comment,n=t.feed_item_comment;if(!i||!n)return null;let r="restack"===t.type||"note_like"===t.type;return(0,o.FD)(R.I1,{gap:12,flex:"grow",minWidth:0,children:[(0,o.Y)(K.YU,{comment:i,item:n,paddingRight:16*!!r}),i.attachments&&i.attachments.length>0&&(0,o.Y)("div",{className:eb.A.attachmentContainer,children:(0,o.Y)(q.ti,{attachments:i.attachments,onAttachmentClick:function(){let{commentId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,er.Qb)(n,"activity-page","attachment",{tabId:"activity",extraEventProps:{commentId:e}})},utm_content:n.entity_key})}),(0,o.FD)(R.Ye,{justifyContent:r?"end":"start",style:{marginTop:r?"-24px":"0"},children:[!r&&(0,o.Y)(B.M,{item:n,comment:i}),(0,o.Y)(M.s,{publication:t.pub,post:t.post,comment:i,item:n,parentItem:t})]})]})},eF=e=>{let{item:t}=e,i=function(e){var t,i,n,r,o,l,a,s,c,u,m,d,_,p,v,y,g,h,f,b,k,Y,w,F,S,I,A,D,x,C,T,q,K,M,E,B,P;let V="",z=null==(i=e.target_comment)||null==(t=i.attachments)?void 0:t.find(e=>"post"===e.type),U=null==(r=e.target_comment)||null==(n=r.attachments)?void 0:n.find(e=>"comment"===e.type);switch(e.type){case"post_reply":case"note_reply":case"comment_reply":case"comment_mention":case"user_first_note":V=(null==(l=e.comment)?void 0:l.body)||"";break;case"comment_arr":V="".concat(e.comment_new_paid_subs_count&&e.comment_new_paid_subs_count>1?"This note generated ".concat(e.comment_new_paid_subs_count," paid subscribers"):"This note generated 1 paid subscriber").concat((null==(a=e.comment)?void 0:a.body)?": “".concat(e.comment.body,"”"):"");break;case"post_like":V=(null==(s=e.post)?void 0:s.title)||(null==(c=e.post)?void 0:c.description)||"";break;case"media_clip_like":V=(null==(u=e.media_clip)?void 0:u.title)||"";break;case"note_like":case"comment_like":V=(null==(m=e.target_comment)?void 0:m.body)||"";break;case"naked_restack_reaction":V=(null==(d=e.post)?void 0:d.title)||(null==(_=e.feed_item_comment)?void 0:_.comment.body)||"";break;case"post_mention":V=(null==(p=e.mention)?void 0:p.context)||(null==(v=e.post)?void 0:v.description)||"";break;case"restack":case"restack_quote":V="restack_quote"===e.type&&(null==z||null==(y=z.postSelection)?void 0:y.text)?null==z||null==(g=z.postSelection)?void 0:g.text:(null==(h=e.target_comment)?void 0:h.body)||(null==z||null==(f=z.postSelection)?void 0:f.text)||(null==z||null==(b=z.post)?void 0:b.title)||(null==U||null==(k=U.comment)?void 0:k.body)||(null==(Y=e.post)?void 0:Y.title)||(null==(w=e.post)?void 0:w.description)||"";break;case"follow":{let{recent_senders:t}=e;if(t[0]){let{primary_publication:e,handle:i,bio:n}=t[0];V=e?"Writes ".concat(e.name):n||(i?"@".concat(i):"")}else V="";break}case"free_subscription":case"referred_free_subscription":case"new_profile":V=(null==(F=e.recent_senders[0])?void 0:F.bio)||"";break;case"community_comment_like":case"community_comment_mention":case"community_comment_quote_reply":case"community_comment_reply":case"community_post_reply":V=(null==(S=e.community_comment)?void 0:S.body)||"";break;case"community_post_like":V=(null==(I=e.target_community_post)?void 0:I.body)||"";break;case"arr_10k_milestone":case"arr_1k_milestone":case"list_100_milestone":case"list_1k_milestone":V="Congrats! To celebrate this milestone, we’ve created some custom images for you to share on other social networks. ";break;case"viral_post":V="Your post has received a lot of traffic over the last 24 hours";break;case"paid_subscription":V=(null==(A=e.target_subscription_note)?void 0:A.note)||"";break;case"pledged_subscription":V=(null==(D=e.target_pledge_note)?void 0:D.note)||"";break;case"live_stream":V=(null==(x=e.target_live_stream)?void 0:x.title)||"";break;case"live_stream_scheduled":V=(null==(C=e.target_live_stream)?void 0:C.title)?"".concat(null==(T=e.target_live_stream)?void 0:T.title," is happening ").concat((0,eu.A)(e.target_live_stream.scheduled_at).format("MMM D [at] hh:mm a")):"";break;case"live_stream_scheduled_invite":V=e.target_live_stream?(0,eu.A)(e.target_live_stream.scheduled_at).isSame((0,eu.A)(),"day")?"Happening at ".concat((0,eu.A)(e.target_live_stream.scheduled_at).format("hh:mm a")):(0,eu.A)(e.target_live_stream.scheduled_at).isSame((0,eu.A)().add(1,"day"),"day")?"Happening tomorrow at ".concat((0,eu.A)(e.target_live_stream.scheduled_at).format("hh:mm a")):"Happening ".concat((0,eu.A)(e.target_live_stream.scheduled_at).format("MMM D [at] hh:mm a")):"";break;case"outlier_subscriber":V="Your top source is ".concat(e.source_name,".");break;case"post_shareable_assets_ready":{let t=(null==(q=e.post)?void 0:q.draft_title)||(null==(K=e.post)?void 0:K.title);V=t?"We've generated several clips for your latest video \"".concat(t,'"'):"We've generated several clips for your latest video";break}case"viral_gift_granted":V=(null==(E=e.viral_gifts)||null==(M=E.unsent)?void 0:M.length)?"You have new paid subscriptions to send friends":"You have sent all your paid subscriptions to friends";break;case"post_to_post_link":V="Linked to your post".concat((null==(B=e.post)?void 0:B.title)?': "'.concat(null==(P=e.post)?void 0:P.title,'"'):"")}return(0,eh.truncateWords)(V,300,{quotationMarks:"restack_quote"===e.type&&!!(null==z||null==(o=z.postSelection)?void 0:o.text)})}(t);if(!i)return null;let n=t.target_post_id&&t.post&&t.pub&&["post_like","media_clip_like","restack"].includes(t.type);return(0,o.FD)(o.FK,{children:[(0,o.Y)(J.EY.B3,{as:"p",className:eb.A.contentPreview,color:"secondary",style:{paddingRight:20*!!n},children:i}),n&&(0,o.Y)(R.Ye,{justifyContent:"end",style:{marginTop:"-24px"},children:(0,o.Y)(eS,{item:t})})]})};function eS(e){let{item:t}=e,i=(0,Q.d)(),n=(0,T.Jd)(),{iString:r}=(0,C.GO)(),{pub:l,post:a}=t,[s,c]=(0,p.useState)(!1),[v,y]=(0,p.useState)(!1),g=a?(0,ed.getPostAuthor)(l,a):null,h=a&&n&&n.id===(null==g?void 0:g.id),f="/api/v1/notification_settings/post/".concat(null==a?void 0:a.id,"/mute");(0,p.useEffect)(()=>{let e=async()=>{y(!!await (0,U.x6)(f,{method:"GET"}))};h&&s&&e()},[h,s,f]);let b=async e=>{let t;switch(e){case"1hour":t=1;break;case"8hours":t=8;break;case"24hours":t=24}let n=t?{expires_at:(0,eu.A)().add(t,"hour").toISOString()}:{};await (0,U.x6)(f,{method:"POST",json:n}),y(!0),i.popToast(()=>(0,o.Y)(Q.y,{text:r("Paused notifications"),Icon:m.A}))},k=async()=>{await (0,U.x6)(f,{method:"DELETE"}),y(!1),i.popToast(()=>(0,o.Y)(Q.y,{text:r("Unpaused notifications"),Icon:d.A}))},Y=[(0,o.Y)(X.Dr,{leading:(0,o.Y)(u.A,{}),onClick:()=>{if(!a)return;let e=(0,eg.q$n)(l,a);(0,O.lW)(e),i.popToast(()=>(0,o.Y)(Q.y,{text:r("Copied link to clipboard"),Icon:u.A}))},children:r("Copy link")})].filter(Boolean),w=[h&&(v?(0,o.Y)(en.MI,{onClick:k,customLabel:r("Unpause notifications")}):(0,o.Y)(en.DE,{onMute:b,customLabel:r("Pause notifications")}))].filter(Boolean),F=[0!==Y.length&&Y,0!==w.length&&(0,o.Y)(X.H9,{children:w})];return 0===F.length?null:(0,o.Y)("div",{style:{position:"relative"},children:(0,o.Y)(G.ov,{className:eb.A.moreButtonContainer,children:(0,o.Y)(X.W1,{onOpen:()=>{c(!0)},trigger:(0,o.Y)(Z.K0,{priority:"quaternary",size:"sm",className:eb.A.moreButton,"aria-label":r("More options"),children:(0,o.Y)(_.A,{size:16})}),children:F})})})}function eI(e){var t;let{item:i,isUnread:l,children:s,readOnly:c}=e,u=(0,ei.i)(),[,m]=(0,es.kw)(!!l,(0,o.Y)(es.xw,{className:eb.A.unreadBadge})),d=null!=(t=i.target_comment)?t:i.comment,_=(0,p.useRef)(null);return(0,N.S8)(_,()=>{var e,t,r;return u(z.qY.ACTIVITY_ITEM_VIEWED,(0,n._)({type:i.type,publication_id:i.publication_id,activity_item_key:i.item_key,position:i.idx,comment_type:null==d?void 0:d.post_id?"post":"note",is_unread:l,comment_id:(null==(e=i.target_comment)?void 0:e.id)||(null==(t=i.comment)?void 0:t.id),community_comment_id:i.community_comment_id,community_post_id:void 0,post_id:null==(r=i.post)?void 0:r.id,user_id:i.target_user_id},i.trackingParams))},{threshold:.2}),(0,o.Y)(eA,{item:i,children:(0,o.Y)(ea.h1,{ref:_,linkClassName:a()(eb.A.notificationLink,l&&eb.A.unread),isPadded:!1,onClick:e=>{u(z.qY.ACTIVITY_ITEM_TAPPED,(0,n._)({type:i.type,position:i.idx,publication_id:i.publication_id,activity_item_key:i.item_key,comment_type:null==d?void 0:d.post_id?"post":"note",is_unread:l},i.trackingParams));let t=e.composedPath().some(e=>e instanceof HTMLAnchorElement);if(!e.defaultPrevented&&!t){c||m();let t=(0,eg.yRP)(function(e){var t,i,o,l,a,s,c,u,m,d,_,p,v,y,g;switch(e.type){case"post_reply":return(0,eg.wu9)(e.pub,e.post,{commentId:e.comment_id});case"post_like":case"post_mention":return(0,eg.wu9)(e.pub,e.post);case"media_clip_like":if(e.media_clip&&(null==(i=e.post)||null==(t=i.publishedBylines)?void 0:t.find(t=>t.id===e.user_id)))return(0,eg.w1V)(e.media_clip,null==(o=e.post)?void 0:o.publishedBylines.find(t=>t.id===e.user_id),{noBase:eo.Z});break;case"note_reply":case"comment_reply":if((null!=(l=e.sender_count)?l:0)>1&&e.target_comment_id&&e.target_comment&&null==e.target_comment.post_id){return g=e.target_comment_id,"/activity/replies/".concat(g)}if(e.comment&&null==e.comment.post_id)return(0,eg.Zgx)(e.comment);return(0,ep.rDG)(e.pub,e.post,e.comment,{});case"note_like":case"comment_like":if(e.target_comment&&!e.target_comment.post_id)return(0,eg.Zgx)(e.target_comment);return(0,eg.wu9)(e.pub,e.post,{commentId:e.target_comment_id});case"naked_restack_reaction":if(e.feed_item_comment)return(0,eg.Zgx)(e.feed_item_comment.comment);if(e.target_comment)return(0,eg.Zgx)(e.target_comment);return(0,eg.wu9)(void 0,e.post);case"restack":if(e.target_comment&&!e.target_comment.post_id)return(0,eg.Zgx)(e.target_comment);return(0,eg.wu9)(e.pub,e.post,{commentId:e.target_comment_id,comments:!!e.target_comment_id});case"restack_quote":if(e.target_comment)return(0,eg.Zgx)((0,r._)((0,n._)({},e.target_comment),{name:null==(a=e.target_user)?void 0:a.name}));break;case"free_subscription":case"follow":case"new_profile":return(0,eg.gYq)((null==(s=e.target_user)?void 0:s.name)&&e.target_user||eE(e)||e.pub);case"referred_free_subscription":{let t=eE(e);return(null==t?void 0:t.name)?(0,eg.gYq)(t):(0,eg.$_T)(e.pub)}case"comment_mention":case"user_first_note":case"comment_arr":if(e.comment)return(0,eg.Zgx)(e.comment);break;case"community_comment_quote_reply":case"community_comment_reply":case"community_comment_mention":case"community_comment_like":case"community_post_reply":return(0,eg.e$6)({pubId:e.publication_id,postId:e.target_community_post_id,commentId:e.target_community_comment_id,params:{targetReplyId:e.community_comment_id,showTarget:!0}});case"community_post_like":return(0,eg.e$6)({pubId:e.publication_id,postId:e.target_community_post_id});case"viral_post":if(e.post)return(0,eg.PuM)(e.pub,e.post.id,{addBase:!0});break;case"live_stream":if(e.target_live_stream_published_media_upload)return(0,ep.XV8)(e.target_live_stream_published_media_upload.publication_subdomain,e.target_live_stream_published_media_upload.post_slug,{params:{utm_source:ef.VU.activityItem}});if(!(null==(c=e.target_live_stream)?void 0:c.id))break;return(0,O.rr)()?(0,eg.Xrv)({liveStreamId:null==(u=e.target_live_stream)?void 0:u.id,utm_source:ef.VU.activityItem,params:{source:"notification"}}):(0,eg.UUj)({liveStreamId:null==(m=e.target_live_stream)?void 0:m.id,utm_source:ef.VU.activityItem,noBase:!0});case"live_stream_scheduled":case"live_stream_scheduled_invite":if(!(null==(d=e.target_live_stream)?void 0:d.id))break;return(0,eg.Xrv)({liveStreamId:null==(_=e.target_live_stream)?void 0:_.id,utm_source:ef.VU.activityItem});case"outlier_subscriber":return(0,ey.O)(e.pub,{urlParams:{highlightSource:e.source}});case"post_shareable_assets_ready":return(0,eg.naY)({post_id:e.target_post_id,publication_subdomain:null==(p=e.pub)?void 0:p.subdomain});case"viral_gift_granted":if(null==(y=e.viral_gifts)||null==(v=y.unsent)?void 0:v.length)return(0,eg.I_8)({pub:e.pub,params:{utm_source:ef.VU.activityItem}});break;case"post_to_post_link":return e.post?(0,eg.PcW)(e.pub,e.post.id,{addBase:!0}):""}return""}(i),{utm_source:ef.VU.activityItem});(0,O.V2)(t,{event:e,local_navigation:window.location.hostname===eg.sXh.hostname||t.startsWith("/live-stream"),state:{showBack:!0}})}},children:(0,o.FD)(R.pT,{gap:8,className:eb.A.container,flex:"grow",minWidth:0,children:[(0,o.Y)(eV,{item:i}),s]})})})}function eA(e){let{item:t,children:i}=e,n=1===t.recent_senders.length?t.recent_senders[0]:null,r=(0,A.Hv)(null==n?void 0:n.id),[l,a]=(0,p.useState)(!1);return!l&&r?(0,o.Y)(R.I1,{paddingY:16,children:(0,o.FD)(G.ov,{radius:"md",border:"detail",padding:20,color:"secondary",cursor:"pointer",onClick:()=>a(!0),children:[(0,o.FD)(J.EY.B4,{minWidth:0,flex:"grow",children:["This activity item concerns someone"," ","muting"===r?"you’ve muted":"blocking"===r?"you’ve blocked":"who has blocked you","."]}),(0,o.Y)(J.EY.B4,{weight:"semibold",decoration:"hover-underline",children:"Show activity"})]})}):(0,o.Y)(o.FK,{children:i})}function eD(e){let{item:t}=e,{iString:i}=(0,C.GO)();if(["arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone","viral_gift_granted","outlier_subscriber"].includes(t.type))return(0,o.Y)(o.FK,{children:(0,o.Y)(E.Yq,{href:(0,eg.$_T)(t.pub),weight:"medium",ellipsis:!1,children:t.pub.name})});if("viral_post"===t.type&&t.post)return(0,o.Y)(o.FK,{children:(0,o.Y)(E.Yq,{href:(0,eg.PuM)(t.pub,t.post.id,{addBase:!0}),weight:"medium",ellipsis:!1,children:t.post.title})});if("naked_restack_reaction"===t.type&&!t.sender_count)return null;if("post_shareable_assets_ready"===t.type)return(0,o.Y)("span",{style:{fontWeight:"bold"},children:"Your clips are ready!"});if("post_mention"===t.type&&t.pub&&0===t.recent_senders.length)return(0,o.Y)("span",{style:{fontWeight:"bold"},children:t.pub.name});let n=t.recent_senders,r=(0,et.G)(n,t);if("comment_arr"===t.type){let e=r.filter(e=>(0,et.x)(e))[0];if(t.user_id===e.id)return(0,o.Y)(o.FK,{children:"Your"})}if("live_stream_scheduled"===t.type&&t.target_user_id===t.user_id){var l,a;return(0,o.Y)(o.FK,{children:(0,o.Y)(E.Yq,{href:(null==(l=t.target_live_stream)?void 0:l.id)?(0,eg.Xrv)({liveStreamId:null==(a=t.target_live_stream)?void 0:a.id,utm_source:ef.VU.activityItem}):"",weight:"medium",ellipsis:!1,children:i("Your live video is scheduled")})})}return(0,o.Y)(o.FK,{children:r.length>0?r.map(e=>(0,et.x)(e)?(0,o.FD)(o.FK,{children:[(0,o.Y)(v.ProfileHoverCard,{subject:e,utmSource:"notification",trigger:(0,o.Y)(E.Yq,{weight:"medium",href:(0,eg.gYq)(e),showBack:!0,children:"comment_arr"===t.type?"".concat(e.name,"'s"):e.name})})," ",(0,o.Y)(ec.UserStatusSymbols,{className:eb.A.userBadge,inline:!0,size:"xs",status:e.status,userId:e.id})]}):e.bold?(0,o.Y)(J.EY.B3,{weight:"medium",as:"span",children:e.value}):e.value):"Someone "})}function ex(e){var t,i,l,a,s,c,u,m,d;let{namedSenders:_,item:p}=e;return(0,o.FD)(R.I1,{className:eb.A.notificationBody,alignItems:"start",gap:8,flex:"grow",children:[(0,o.FD)(R.pT,{alignItems:"center",justifyContent:"space-between",flex:"grow",alignSelf:"stretch",gap:8,children:["viral_gift_granted"!==p.type&&(null==(t=p.recent_senders.filter(e=>null==e?void 0:e.name))?void 0:t.length)?(0,o.Y)(W.Z,{users:p.recent_senders,max:6,total:null!=(d=p.sender_count)?d:void 0,size:32,renderAvatar:e=>(0,o.Y)(L.tp,(0,r._)((0,n._)({},e),{noBase:eo.Z,utmSource:"notification"}))}):(null==(i=p.pub)?void 0:i.logo_url)?(0,o.Y)(H.Nq,{pub:p.pub,size:32}):(null==(l=p.feed_item_comment)?void 0:l.comment)?(0,o.Y)(W.Z,{users:[{id:null==(a=p.feed_item_comment)?void 0:a.comment.id,name:(null==(s=p.feed_item_comment)?void 0:s.comment.name)||"",photo_url:null==(c=p.feed_item_comment)?void 0:c.comment.photo_url}],max:6,size:32,renderAvatar:e=>(0,o.Y)(L.tp,(0,r._)((0,n._)({},e),{noBase:eo.Z,utmSource:"notification"}))}):p.target_comment?(0,o.Y)(W.Z,{users:[{id:p.target_comment.id,name:p.target_comment.name||"",photo_url:p.target_comment.photo_url}],max:6,size:32,renderAvatar:e=>(0,o.Y)(L.tp,(0,r._)((0,n._)({},e),{noBase:eo.Z,utmSource:"notification"}))}):(null==(u=p.post)?void 0:u.publishedBylines)?(0,o.Y)(W.Z,{users:null==(m=p.post)?void 0:m.publishedBylines,max:6,size:32,renderAvatar:e=>(0,o.Y)(L.tp,(0,r._)((0,n._)({},e),{noBase:eo.Z,utmSource:"notification"}))}):null,(0,o.Y)(eT,{item:p,namedSenders:_})]}),(0,o.Y)(R.I1,{flex:"grow",children:(0,o.FD)(J.EY.B3,{as:"span",color:"primary",children:[(0,o.Y)(eD,{item:p})," ",(0,o.Y)(J.EY,{as:"span",paddingRight:8,children:function(e,t){var i,n,r,l,a,s,c,u,m,d,_,p,v,y,g,h,f,b,k,Y,w,F,S,I,A,D,x,C;let T=(null==(i=e.post)?void 0:i.title)?(0,o.FD)(o.FK,{children:[" ",(0,o.Y)(E.Yq,{href:(0,eg.wu9)(e.pub,e.post),weight:"medium",ellipsis:!1,children:e.post.title})]}):null,q=null==(r=e.post)||null==(n=r.publishedBylines)?void 0:n.find(t=>t.id===e.user_id),K=(null==(l=e.media_clip)?void 0:l.title)&&q&&e.media_clip?(0,o.FD)(o.FK,{children:[" ",(0,o.Y)(E.Yq,{href:(0,eg.w1V)(e.media_clip,q,{noBase:eo.Z}),weight:"medium",ellipsis:!1,children:e.media_clip.title})]}):null,M=T?"comment":(null==(a=e.comment)?void 0:a.ancestor_path)?"reply":"note";if("comment_reply"===e.type)switch(e.comment_audience){case"post_author":case"publication_author":return(0,o.FD)(o.FK,{children:["replied to a comment",T&&[" on ",T]]});case"comment_sibling":return(0,o.FD)(o.FK,{children:["also commented",T&&[" on ",T]]});default:return(0,o.FD)(o.FK,{children:["replied to your ",(null==(s=e.comment)?void 0:s.post_id)?"comment":"note",T&&[" on ",T]]})}if("outlier_subscriber"===e.type)return(0,o.FD)(o.FK,{children:["just gained ",(null!=(c=e.sender_count)?c:0).toLocaleString()," new subscribers in the last 24 hours."]});if("post_reply"===e.type)return(0,o.FD)(o.FK,{children:["commented on your ",T?["post ",T]:"note"]});if("post_like"===e.type)return(0,o.FD)(o.FK,{children:["liked your ",T?["post ",T]:"note"]});if("media_clip_like"===e.type)return(0,o.FD)(o.FK,{children:["liked your ",K?["clip ",K]:"note"]});else if("comment_like"===e.type)return(0,o.FD)(o.FK,{children:["liked your ",T?["comment on ",T]:M]});else if("comment_mention"===e.type)return(0,o.FD)(o.FK,{children:["mentioned you in a"," ",T?["comment on ",T]:M]});else if("post_mention"===e.type){if((t||e.pub)&&(null==(u=e.mention)?void 0:u.mentioned_type)==="user")return(0,o.FD)(o.FK,{children:["mentioned you",T&&[" in ",T]]});if((t||e.pub)&&(null==(m=e.mention)?void 0:m.mentioned_type)==="pub")return(0,o.FD)(o.FK,{children:["mentioned your publication",T&&[" in ",T]]});if(!t&&(null==(d=e.mention)?void 0:d.mentioned_type)==="user")return(0,o.FD)(o.FK,{children:["You were mentioned",T&&[" in ",T]]});else if(!t&&(null==(_=e.mention)?void 0:_.mentioned_type)==="pub")return(0,o.FD)(o.FK,{children:["Your publication was mentioned",T&&[" in ",T]]})}else if("restack"===e.type||"restack_quote"===e.type){let t="restack_quote"===e.type&&(null==(v=e.target_comment)||null==(p=v.attachments)?void 0:p.find(e=>"post"===e.type));return t&&(null==t||null==(y=t.postSelection)?void 0:y.text)?(0,o.FD)(o.FK,{children:["quoted your post ",T]}):"restack"===e.type&&e.target_comment?(0,o.FD)(o.FK,{children:["restacked your"," ",e.target_comment.post_id?"comment":e.target_comment.ancestor_path?"reply":"note",T&&[" on ",T]]}):(0,o.FD)(o.FK,{children:["restacked your ",T?["post ",T]:"note"]})}else if("free_subscription"===e.type)return(0,o.FD)(o.FK,{children:["subscribed to"," ",(0,o.Y)(E.Yq,{href:(0,eg.$_T)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})]});else if("follow"===e.type)return(0,o.FD)(o.FK,{children:["followed you",e.pub?(0,o.Y)(o.FK,{children:(0,o.Y)(E.Yq,{href:(null==(g=e.pub.author)?void 0:g.name)||e.pub.author_name?(0,eg.rfn)((null==(h=e.pub.author)?void 0:h.id)||e.pub.author_id,(null==(f=e.pub.author)?void 0:f.name)||e.pub.author_name):(0,eg.$_T)(e.pub),weight:"medium",ellipsis:!1,children:(null==(b=e.pub.author)?void 0:b.name)||e.pub.author_name||e.pub.name})}):""]});else if("user_first_note"===e.type)return"posted their first note";else if("new_profile"===e.type)return"is on Substack";else if("community_comment_like"===e.type)return"reacted to your reply";else if("community_post_like"===e.type)return"reacted to your thread";else if("community_comment_quote_reply"===e.type||"community_comment_reply"===e.type)return"replied to your message";else if("community_post_reply"===e.type)return"replied to your thread";else if("community_comment_mention"===e.type)return"mentioned you in a reply";else if("note_like"===e.type)return"liked your note";else if("note_reply"===e.type)return"replied to your note";else if("referred_free_subscription"===e.type)return(0,o.FD)(o.FK,{children:["subscribed to"," ",(0,o.Y)(E.Yq,{href:(0,eg.$_T)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})," ","because of your share"]});else if("list_100_milestone"===e.type)return"has reached 100 subscribers";else if("list_1k_milestone"===e.type)return"has reached 1,000 subscribers";else if("arr_1k_milestone"===e.type)return"has reached $1,000 in annual revenue";else if("arr_10k_milestone"===e.type)return"has reached $10,000 in annual revenue";else if("viral_post"===e.type)return"is getting a lot of traffic";else if("naked_restack_reaction"===e.type)return e.sender_count?"liked your ".concat(e.feed_item_comment||e.target_comment?"note":"post"," restack"):"".concat(e.feed_item_comment?e.feed_item_comment.comment.reaction_count:e.target_comment?e.target_comment.reaction_count:null==(k=e.post)?void 0:k.reaction_count," people liked the ").concat(e.feed_item_comment||e.target_comment?"note":"post"," that you restacked");else if("paid_subscription"===e.type)return(0,o.FD)(o.FK,{children:["became a paying subscriber to"," ",(0,o.Y)(E.Yq,{href:(0,eg.$_T)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})]});else if("pledged_subscription"===e.type)return(0,o.FD)(o.FK,{children:["pledged a subscription to"," ",(0,o.Y)(E.Yq,{href:(0,eg.$_T)(e.pub),weight:"medium",ellipsis:!1,children:e.pub.name})]});else if("live_stream"===e.type){let t=(null==(Y=e.target_live_stream)?void 0:Y.status)==="active";return(null==(w=e.target_live_stream)?void 0:w.user_is_paywalled)?(null!=(F=e.sender_count)?F:0)>1?t?"are live on Substack with paid subscribers":"were live on Substack with paid subscribers":t?"is live on Substack with paid subscribers":"was live on Substack with paid subscribers":(null!=(S=e.sender_count)?S:0)>1?t?"are live on Substack":"were live on Substack":t?"is live on Substack":"was live on Substack"}else if("live_stream_scheduled"===e.type){let t=(null==(I=e.target_live_stream)?void 0:I.status)==="active",i=(null==(A=e.target_live_stream)?void 0:A.status)==="scheduled";return e.target_user_id===e.user_id?null:(null!=(D=e.sender_count)?D:0)>1?i?"scheduled a live video":t?"are live on Substack":"were live on Substack":i?"scheduled a live video":t?"is live on Substack":"was live on Substack"}else if("live_stream_scheduled_invite"===e.type)return"invited you to go live";else if("live_stream_invite"===e.type){let t=(null==(x=e.target_live_stream)?void 0:x.status)==="active";return(null==(C=e.target_live_stream)?void 0:C.audience)==="private"?t?"is inviting you to record a podcast":"invited you to record a podcast":t?"is inviting you to a live video on Substack":"invited you to a live video on Substack"}else if("comment_arr"===e.type)return"note made you $".concat(e.comment_arr_usd||100);return""}(p,!!_[0])}),(0,o.Y)(eq,{item:p})]})})]})}function eC(e){let{item:t,calendarEvent:i,priority:n}=e,r=(0,p.useRef)(null);return(0,o.FD)(o.FK,{children:[(0,o.Y)("div",{ref:r,style:{width:0,height:0}}),(0,o.FD)(R.Ye,{justifyContent:"end",gap:8,children:[(0,o.Y)(j.L,{priority:n,size:"sm",handleClick:e=>{var i;(0,z.u4)(z.qY.ADD_TO_CALENDAR_CLICKED,{liveStreamId:null==(i=t.target_live_stream)?void 0:i.id,surface:"live-stream-activity-item",type:e})},event:i,menuProps:{onOpen:()=>{(0,U.x6)("/api/v1/live_stream/".concat(t.target_live_stream_id,"/rsvp"),{method:"PUT"})}}}),(0,o.Y)(P.f,{publication:t.pub,activityItem:t})]})]})}function eT(e){var t,i,n,r,l,a,s,c,u,m,d,_,v;let{item:y,namedSenders:g}=e,{iString:h}=(0,C.GO)(),f=(0,T.Jd)(),b=(0,el._)(y.target_live_stream),k=(0,x.ku)(),Y=g[0],w=(0,O.rr)(),F=(0,Q.d)(),[S,I]=(0,p.useState)(!1),A=null!=(c=y.cta)?c:null,D=null!=(u=null==A?void 0:A.priority)?u:"secondary",q=(0,p.useCallback)(async()=>{I(!0);try{var e,t;let i=(null==(e=y.pub)?void 0:e.subdomain)||(null==f||null==(t=f.primary_publication)?void 0:t.subdomain);if(!i){let e=await (0,U.x6)("/api/v1/publication_user/get_or_create_primary",{method:"POST",json:{personal_pub_trigger:"accept_live_stream_invite"}});if("personal_pub_setup_failure_reason"in e)return void F.popToast(()=>(0,o.Y)(Q.y,{text:h("Unable to join. Please set up your profile first.")}));i=e.primary_pub.subdomain}let n="".concat((0,eg.$_T)({subdomain:i}),"/publish/live-stream/").concat(y.target_live_stream_id,"/join");(0,O.V2)(n,{local_navigation:!1})}catch(e){F.popToast(()=>(0,o.Y)(Q.y,{text:(0,U.Qd)(e)}))}finally{I(!1)}},[y,f,F,h]);return(null==A?void 0:A.type)==="message"&&(null==Y?void 0:Y.name)?(0,o.Y)(Z.$n,{priority:D,size:"sm",href:(0,ev.pV)({urlParams:{user:(0,eg.LRz)({userId:Y.id,userName:Y.name})}}),children:h("Message")}):(null==A?void 0:A.type)==="follow"?k.data?(0,o.Y)(eK,{user:Y,text:"follow"===y.type?h("Follow back"):h("Follow")}):null:(null==A?void 0:A.type)==="share"?(0,o.Y)(eM,{item:y,pub:y.pub,priority:D}):(null==A?void 0:A.type)==="subscribe"?(0,o.Y)(Z.$n,{priority:"secondary-outline",size:"sm",onClick:()=>{(0,O.V2)((0,eg.eV6)(y.pub,{addBase:!0,params:{utm_source:"recommendation_notification"}}))},children:h("Subscribe")}):(null==A?void 0:A.type)==="live-stream"&&y.target_live_stream?(0,o.Y)(Z.$n,{priority:D,size:"sm",href:y.target_live_stream_published_media_upload?(0,ep.XV8)(y.target_live_stream_published_media_upload.publication_subdomain,y.target_live_stream_published_media_upload.post_slug,{params:{utm_source:ef.VU.activityItem}}):w?(0,eg.Xrv)({liveStreamId:null==(m=y.target_live_stream)?void 0:m.id,utm_source:ef.VU.activityItem,params:{source:"notification"}}):(0,eg.UUj)({liveStreamId:null==(d=y.target_live_stream)?void 0:d.id,utm_source:ef.VU.activityItem,noBase:!0}),localNavigation:!y.target_live_stream_published_media_upload,children:h("Watch now")}):(null==A?void 0:A.type)==="start-livestream-test-run"&&(null==(t=y.target_live_stream)?void 0:t.id)?(0,o.Y)(Z.$n,{priority:D,size:"sm",href:(0,eg.Xrv)({liveStreamId:null==(_=y.target_live_stream)?void 0:_.id,utm_source:ef.VU.activityItem,params:{show_test_run:"true"}}),onClick:()=>{var e;(0,z.u4)(z.qY.LIVE_STREAM_TEST_RUN_CLICKED,{liveStreamId:null==(e=y.target_live_stream)?void 0:e.id,liveStreamInviteId:y.target_live_stream_invite_id,surface:"live-stream-activity-item"})},children:h("Start test run")}):(null==A?void 0:A.type)==="add-livestream-to-calendar"?(0,o.Y)(eC,{item:y,calendarEvent:b,priority:D}):(null==A?void 0:A.type)==="live-stream-invite"&&(null==(i=y.target_live_stream)?void 0:i.is_rtmp)&&(null==(n=y.target_live_stream_invite)?void 0:n.status)==="pending"?(0,o.Y)(Z.$n,{priority:"primary",size:"sm",href:null==A?void 0:A.deepLink,children:h("View invite")}):(null==A?void 0:A.type)!=="live-stream-invite"||(null==(r=y.target_live_stream)?void 0:r.is_rtmp)?(null==A?void 0:A.type)==="post-shareable-assets"?(0,o.Y)(Z.$n,{priority:D,size:"sm",href:(0,eg.naY)({post_id:y.target_post_id,publication_subdomain:null==(v=y.pub)?void 0:v.subdomain}),children:h("Open Draft")}):(null==A?void 0:A.type)==="viral-gift-granted"?(0,o.Y)(Z.$n,{priority:D,size:"sm",href:(0,eg.I_8)({pub:y.pub,params:{utm_source:ef.VU.activityItem}}),children:h("Send gifts")}):(null==A?void 0:A.type)==="download-clip"&&(null==A?void 0:A.deepLink)&&y.pub&&(null==(s=y.media_clip)||null==(a=s.assets)||null==(l=a[0])?void 0:l.media_upload_id)?(0,o.Y)(Z.$n,{priority:D,size:"sm",onClick:()=>{var e,t,i;let n=null==(i=y.media_clip)||null==(t=i.assets)||null==(e=t[0])?void 0:e.media_upload_id;if(!n)return;let r=(0,ep.G79)(y.pub,n),o=document.createElement("a");o.href=r,o.download="",document.body.appendChild(o),o.click(),document.body.removeChild(o)},children:h("Download")}):null:(0,o.Y)(Z.$n,{priority:D,size:"sm",onClick:q,loading:S,children:h("Join")})}function eq(e){let{item:t}=e;return(0,o.Y)(V.iE,{timestamp:t.updated_at})}function eK(e){let{user:t,text:i}=e,{iString:n}=(0,C.GO)(),{isFollowing:r,toggle:l}=(0,x.cC)(t,"notifications");return(0,p.useMemo)(()=>r,[])?null:(0,o.Y)(Z.$n,{priority:r?"secondary-outline":"primary",size:"sm",onClick:e=>{e.preventDefault(),l()},children:r?n("Following"):i})}function eM(e){let{item:t,pub:i,priority:n}=e,{iString:r}=(0,C.GO)(),[l,a]=(0,p.useState)(!1),s=(0,D.OA)();return(0,p.useEffect)(()=>{if(l){let e=document.createElement("div");(0,p.render)((0,o.Y)(()=>{let[n,r]=(0,p.useState)(l);return(0,o.Y)(C.Pz,{language:(0,em.Z0)({pub:i}),children:(0,o.Y)(D.TN,{value:s,children:(0,o.Y)(ee.gQ,{isOpen:n,setOpen:t=>{t||e.remove(),r(t),a(t)},pub:i,item:t})})})},{}),e)}},[l]),(0,o.Y)(Z.$n,{priority:n,size:"sm",onClick:e=>{e.preventDefault(),a(!0)},children:r("Share")})}function eE(e){var t;return null!=(t=e.recent_senders.find(e=>e.name))?t:null}let eB=new Set(["comment_like","comment_mention","comment_reply","community_comment_like","community_comment_mention","community_comment_quote_reply","community_comment_reply","community_post_like","community_post_reply","free_subscription","new_profile","note_like","note_reply","comment_arr","post_like","post_mention","post_reply","naked_restack_reaction","restack_quote","restack","user_first_note","referred_free_subscription","follow","arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone","viral_post","outlier_subscriber","paid_subscription","pledged_subscription","live_stream","live_stream_scheduled","live_stream_scheduled_invite","post_shareable_assets_ready","viral_gift_granted","media_clip_like","post_to_post_link"]),eP=(e,t,i)=>{if("live_stream_invite"===e.type&&e.target_live_stream_id){var n;let r=null==(n=t.liveStreams)?void 0:n.get(e.target_live_stream_id);return(null==r?void 0:r.is_rtmp)||i}return!1};function eV(e){let{item:t}=e;return(0,o.Y)(ez,{type:function(e){let t;if(["post_like","comment_like","community_post_like","community_comment_like","note_like","naked_restack_reaction"].includes(e.type))t="like";else if(["restack","restack_quote"].includes(e.type)){var i,n,r;let o="restack_quote"===e.type&&(null==(n=e.target_comment)||null==(i=n.attachments)?void 0:i.find(e=>"post"===e.type));t=o&&(null==o||null==(r=o.postSelection)?void 0:r.text)?"quote":"restack"}else t=["comment_reply","community_post_reply","community_comment_quote_reply","community_comment_reply","note_reply"].includes(e.type)?"comment_sibling"===e.comment_audience?"comment":"reply":["free_subscription","referred_free_subscription"].includes(e.type)?"subscription":["paid_subscription","pledged_subscription"].includes(e.type)?"paid_subscription":["comment_mention","post_mention","community_comment_mention"].includes(e.type)?"mention":["new_profile","user_first_note","live_stream","comment_arr","post_shareable_assets_ready","viral_gift_granted"].includes(e.type)?"promotion":["arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone","outlier_subscriber"].includes(e.type)?"milestone":"follow"===e.type?"follow":["live_stream","live_stream_scheduled","live_stream_invite","live_stream_scheduled_invite","live_stream_host_reminder"].includes(e.type)?"live_stream":"comment";return t}(t)})}function ez(e){let{type:t}=e;return(0,o.Y)(R.pT,{alignItems:"center",justifyContent:"center",className:a()(eb.A.reactionBadge,eb.A.unelevated,eb.A["notification-".concat(t)]),children:"like"===t?(0,o.Y)(h.A,{color:"var(--color-accent-fg-red)"}):"comment"===t?(0,o.Y)(y.A,{color:"var(--color-accent-fg-cyan)"}):"restack"===t?(0,o.Y)(S.A,{color:"var(--color-accent-fg-green)"}):"subscription"===t?(0,o.Y)(Y.A,{color:"var(--color-accent-fg-orange)"}):"paid_subscription"===t?(0,o.Y)(k.A,{color:"var(--color-accent-fg-orange)"}):"follow"===t?(0,o.Y)(Y.A,{color:"var(--color-accent-fg-orange)"}):"mention"===t?(0,o.Y)(b.A,{color:"var(--color-accent-fg-purple)"}):"quote"===t?(0,o.Y)(w.A,{color:"var(--color-accent-fg-yellow)"}):"promotion"===t?(0,o.Y)(I.A,{color:"var(--color-accent-fg-purple)"}):"milestone"===t?(0,o.Y)(g.A,{color:"var(--color-accent-fg-yellow)"}):"live_stream"===t?(0,o.Y)(f.A,{color:"var(--color-accent-fg-red)"}):(0,o.Y)(F.A,{color:"var(--color-accent-fg-cyan)"})})}function eU(e){let t=new Map(e.pubs.map(e=>[e.id,e])),i=new Map(e.posts.map(e=>[e.id,e])),n=new Map(e.drafts.map(e=>[e.id,e])),r=new Map(e.users.map(e=>[e.id,e])),o=new Map(e.comments.map(e=>[e.id,e])),l=new Map(e.mentions.map(e=>[e.id,e])),a=new Map(e.communityPosts.map(e=>[e.id,e])),s=new Map(e.communityComments.map(e=>[e.id,e])),c=new Map(e.feedItemComments.map(e=>[e.comment.id,e])),u=new Map((e.liveStreams||[]).map(e=>[e.id,e])),m=new Map((e.liveStreamInvites||[]).map(e=>[e.id,e]));return{publications:t,posts:i,users:r,comments:o,mentions:l,communityPosts:a,communityComments:s,feedItemComments:c,liveStreams:u,liveStreamInvites:m,drafts:n,viralGifts:new Map((e.viralGifts||[]).map(e=>{var t;return[null==(t=e.unsent[0])?void 0:t.publication_id,e]}).filter(e=>!!e[0])),mediaClips:new Map((e.mediaClips||[]).map(e=>[e.id,e]))}}let e$=new Set([e_.Yj.comment_reply,e_.Yj.comment_mention,e_.Yj.note_reply,e_.Yj.note_like,e_.Yj.post_reply,e_.Yj.restack_quote,e_.Yj.restack,e_.Yj.user_first_note]),eN=(e,t)=>{var i,n;return e$.has(t.type)&&null!==t.feed_item_comment&&((null==(n=t.feed_item_comment)||null==(i=n.comment)?void 0:i.user_id)!==(null==e?void 0:e.id)||!t.target_post_id&&("restack"===t.type||"restack_quote"===t.type||"note_like"===t.type))}},45368:function(e,t,i){i.d(t,{X:()=>s});var n=i(10201),r=i(17028),o=i(22602),l=i(2548),a=i(80091);function s(e){let{count:t=8}=e;return(0,n.Y)(l.ix,{children:Array(t).fill(0).map(()=>(0,n.Y)(c,{}))})}function c(){return(0,n.Y)(l.h1,{linkClassName:a.A.notificationLink,isPadded:!1,children:(0,n.FD)(r.pT,{gap:12,className:a.A.container,flex:"grow",children:[(0,n.Y)(o.O,{radius:"full",width:32,height:32}),(0,n.FD)(r.I1,{gap:12,flex:"grow",children:[(0,n.Y)(o.O,{radius:"full",width:32,height:32}),(0,n.FD)(r.I1,{flex:"grow",gap:8,children:[(0,n.Y)(o.O,{width:"50%"}),(0,n.Y)(o.O,{width:"60%"}),(0,n.Y)(o.O,{width:"35%"})]})]})]})})}},95034:function(e,t,i){i.d(t,{Q:()=>p});var n=i(79785),r=i(10201),o=i(87677),l=i(63701),a=i(84605),s=i(17028),c=i(16291),u=i(15995);function m(){let e=(0,n._)(["today at ",""]);return m=function(){return e},e}function d(){let e=(0,n._)(["tomorrow at ",""]);return d=function(){return e},e}function _(){let e=(0,n._)([""," at ",""]);return _=function(){return e},e}function p(e){let{streams:t,onOpenModal:i}=e,{iString:n,iTemplate:p}=(0,a.GO)();if(0===t.length)return null;let v=t[0],y=null==v?void 0:v.liveStream.scheduled_at,g=(0,c.A)(),h=(0,c.A)(y),f=h.format("h:mm A"),b=h.format("MMM D"),k="";return y&&(k=h.isSame(g,"day")?p(m(),f):h.isSame(g.add(1,"day"),"day")?p(d(),f):p(_(),b,f)),(0,r.FD)(s.pT,{radius:"md",padding:16,alignItems:"center",gap:12,border:"detail",onClick:i,className:u.A.card,children:[(0,r.Y)(s.pT,{bg:"accent-red",radius:"full",width:36,height:36,alignItems:"center",justifyContent:"center",children:(0,r.Y)(l.A,{color:"var(--color-accent-fg-red)"})}),(0,r.FD)(s.I1,{flex:"grow",gap:2,children:[(0,r.Y)(s.EY.B3,{fontWeight:"medium",children:n(1===t.length?"Scheduled live video":"Scheduled live videos")}),(0,r.FD)(s.EY.B4,{color:"secondary",children:[n("Next")," ",k]})]}),(0,r.Y)(o.A,{size:20})]})}},45937:function(e,t,i){i.d(t,{X:()=>r});var n=i(17402);function r(e,t,i){let{shouldCheck:r,threshold:o=200,bodyRef:l}=i,a=(0,n.useRef)(),s=null!=l?l:a,c=()=>{let t=s.current;if(t){let{bottom:i}=t.getBoundingClientRect();i<window.innerHeight+o&&e()}};return(0,n.useEffect)(()=>{if(r)return window.addEventListener("scroll",c,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",c,{capture:!0})}},t),{bodyRef:s,check:c}}}}]);