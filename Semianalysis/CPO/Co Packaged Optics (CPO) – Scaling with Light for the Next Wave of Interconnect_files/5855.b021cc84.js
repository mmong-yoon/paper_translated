"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["5855"],{34372:function(e,t,l){l.d(t,{A:()=>a});let a={modalTitle:"modalTitle-uFJ1Ep",qrCode:"qrCode-zZoQdZ",appBadge:"appBadge-Vbgl8S",phoneInput:"phoneInput-PdUisS",noGrow:"noGrow-lP58Da"}},20201:function(e,t,l){l(10201),l(70357),l(45197),l(77398),l(68349),l(35369),l(76977);var a=l(75303);l(63136),l(11510),(0,a.I4)({display:"flex",justifyContent:"center",alignItems:"center",flex:"grow",minWidth:0});let n=(0,a.I4)({display:"flex",alignItems:"center",flex:"auto",gap:12});(0,a.I4)({justifyContent:"start"},n),(0,a.I4)({justifyContent:"end"},n)},77398:function(e,t,l){l(17402)},88377:function(e,t,l){l(17402)},53594:function(e,t,l){function a(e,t){return e&&"rgba(".concat(e.join(","),",").concat(t,")")}l.d(t,{Vu:()=>r,iL:()=>a,p4:()=>n});let n=e=>{var t,l;let{palette:n,colorKey:r="DarkMuted",defaultColor:i="var(--color-dark-bg-secondary)",bgColor:o="var(--color-dark-bg-secondary)"}=e;if(!n&&!i)return null;let s=null!=(l=a(null==n||null==(t=n[r])?void 0:t.rgb,.75))?l:i;return{background:"linear-gradient(180deg, ".concat(s,", ").concat(s,"), ").concat(o)}},r=e=>{var t,l,n,r,i,o;let{palette:s,defaultColor:u="var(--color-dark-bg-primary)",bgColor:c="var(--color-dark-bg-primary)"}=e;if(!s&&!u)return null;let f=null!=(r=a(null==s||null==(t=s.Muted)?void 0:t.rgb,.75))?r:u,d=null!=(i=a(null==s||null==(l=s.DarkMuted)?void 0:l.rgb,.75))?i:u,g=null!=(o=a(null==s||null==(n=s.DarkVibrant)?void 0:n.rgb,.75))?o:u;return{background:"linear-gradient(135deg, ".concat(f,", ").concat(d,", ").concat(g,"), ").concat(c),backgroundSize:"400% 400%"}}},23168:function(e,t,l){l.d(t,{l:()=>o});var a=l(69277),n=l(70408),r=l(17402),i=l(84605);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{maxFiles:t=1/0,maxSize:l=1/0,accept:o="*",multiple:u=!1,initialFiles:c=[],onFilesChange:f,onFilesAdded:d}=e,{iString:g}=(0,i.GO)(),[p,m]=(0,r.useState)({files:c.map(e=>({file:e,id:e.id,preview:e.url})),isDragging:!1,errors:[]}),b=(0,r.useRef)(null),h=(0,r.useCallback)(e=>{if(e instanceof File){if(e.size>l)return'File "'.concat(e.name,'" exceeds the maximum size of ').concat(s(l),".")}else if(e.size>l)return'File "'.concat(e.name,'" exceeds the maximum size of ').concat(s(l),".");if("*"!==o){let t=o.split(",").map(e=>e.trim()),l=e instanceof File?e.type||"":e.type,a=(e instanceof File,e.name),n=a.lastIndexOf("."),r=n>0?a.substring(n):"";if(!t.some(e=>{if(e.startsWith("."))return r.toLowerCase()===e.toLowerCase();if(e.endsWith("/*")){let t=e.split("/")[0];return l.startsWith("".concat(t,"/"))}return l===e}))return'File "'.concat((e instanceof File,e.name),'" is not an accepted file type.')}return null},[o,l]),v=(0,r.useCallback)(e=>e instanceof File?URL.createObjectURL(e):e.url,[]),k=(0,r.useCallback)(e=>e instanceof File?"".concat(e.name,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)):e.id,[]),C=(0,r.useCallback)(()=>{m(e=>{e.files.forEach(e=>{e.preview&&e.file instanceof File&&e.file.type.startsWith("image/")&&URL.revokeObjectURL(e.preview)}),b.current&&(b.current.value="");let t=(0,n._)((0,a._)({},e),{files:[],errors:[]});return null==f||f(t.files),t})},[f]),_=(0,r.useCallback)(e=>{if(!e||0===e.length)return;let r=Array.from(e),i=[];if(m(e=>(0,n._)((0,a._)({},e),{errors:[]})),u||C(),u&&t!==1/0&&p.files.length+r.length>t){i.push("You can only upload a maximum of ".concat(t," files.")),m(e=>(0,n._)((0,a._)({},e),{errors:i}));return}let o=[];r.forEach(e=>{if(u&&p.files.some(t=>t.file.name===e.name&&t.file.size===e.size))return;if(e.size>l)return void i.push(u?"Some files exceed the maximum size of ".concat(s(l),"."):"File exceeds the maximum size of ".concat(s(l),"."));let t=h(e);t?i.push(t):o.push({file:e,id:k(e),preview:v(e)})}),o.length>0?(null==d||d(o),m(e=>{let t=u?[...e.files,...o]:o;return null==f||f(t),(0,n._)((0,a._)({},e),{files:t,errors:i})})):i.length>0&&m(e=>(0,n._)((0,a._)({},e),{errors:i})),b.current&&(b.current.value="")},[p.files.length,t,u,l,h,v,k,C,f,d]),y=(0,r.useCallback)(e=>{void 0!==e&&m(t=>{let l=t.files.find(t=>t.id===e);l&&l.preview&&l.file instanceof File&&l.file.type.startsWith("image/")&&URL.revokeObjectURL(l.preview);let r=t.files.filter(t=>t.id!==e);return null==f||f(r),(0,n._)((0,a._)({},t),{files:r,errors:[]})})},[f]),D=(0,r.useCallback)(()=>{m(e=>(0,n._)((0,a._)({},e),{errors:[]}))},[]),x=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),m(e=>(0,n._)((0,a._)({},e),{isDragging:!0}))},[]),w=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),e.relatedTarget&&e.relatedTarget instanceof Node&&e.currentTarget.contains(e.relatedTarget)||m(e=>(0,n._)((0,a._)({},e),{isDragging:!1}))},[]),F=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),T=(0,r.useCallback)(e=>{var t,l;if(e.preventDefault(),e.stopPropagation(),m(e=>(0,n._)((0,a._)({},e),{isDragging:!1})),(null==(t=b.current)||!t.disabled)&&(null==(l=e.dataTransfer)?void 0:l.files)&&e.dataTransfer.files.length>0)if(u)_(e.dataTransfer.files);else{let t=e.dataTransfer.files[0];t&&_([t])}},[_,u]),B=(0,r.useCallback)(e=>{e.currentTarget.files&&e.currentTarget.files.length>0&&_(e.currentTarget.files)},[_]),z=(0,r.useCallback)(()=>{b.current&&b.current.click()},[]),I=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n._)((0,a._)({},e),{type:"file",onChange:B,accept:e.accept||o,multiple:void 0!==e.multiple?e.multiple:u,ref:b,className:"sr-only","aria-label":g("Upload file"),tabIndex:-1})},[o,u,B]),L=(0,r.useCallback)(()=>({onDragEnter:x,onDragLeave:w,onDragOver:F,onDrop:T}),[x,w,F,T]);return[p,{addFiles:_,removeFile:y,clearFiles:C,clearErrors:D,handleDragEnter:x,handleDragLeave:w,handleDragOver:F,handleDrop:T,handleFileChange:B,openFileDialog:z,getInputProps:I,getDragProps:L}]},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let l=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,l)).toFixed(t<0?0:t))+(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][l]||"Bytes")}}}]);