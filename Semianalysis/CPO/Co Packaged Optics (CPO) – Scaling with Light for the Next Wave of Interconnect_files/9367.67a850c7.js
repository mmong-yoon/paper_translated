"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["9367"],{59077:function(t,e,n){n.d(e,{A:()=>r});let r={menu:"menu-sPR2Yu",mobile:"mobile-iU7pHV",floatingContainer:"floatingContainer-SiCBnk"}},76722:function(t,e,n){n.d(e,{A:()=>r});let r={item:"item-Npdq6R",mobile:"mobile-H_2QrZ",disabled:"disabled-gt0N_P",priority_primary:"priority_primary-eIAnBM",priorityPrimary:"priority_primary-eIAnBM",priority_destructive:"priority_destructive-_k3_64",priorityDestructive:"priority_destructive-_k3_64",priority_secondary:"priority_secondary-G7JGFb",prioritySecondary:"priority_secondary-G7JGFb"}},77256:function(t,e,n){n.d(e,{W:()=>w});var r=n(69277),i=n(70408),o=n(10201),a=n(38314),c=n(42841),l=n(81801),s=n(17402),d=n(10238),u=n(6553),p=n(35348),g=n(88206),f=n(29438),m=n(69967),h=n(84014),y=n(7831),v=n(11510),b=n(59077);function w(t){let{trigger:e,children:n,onOpen:r,onClose:i,disabled:a,placement:c="bottom",matchReferenceWidth:s=!1,strategy:d="fixed",disableMobileBottomSheet:u=!1}=t,p=(0,v.Iu)()&&!u;return(0,o.Y)(l.W,{children:t=>{let{open:l,close:g}=t;return(0,o.Y)(_,{strategy:d,trigger:e,children:n,open:l,close:g,onOpen:r,onClose:i,disabled:a,placement:c,matchReferenceWidth:s,disableMobileBottomSheet:u},p?"mobile":"desktop")}})}function _(t){let{trigger:e,children:n,open:w,close:_,disabled:D,onOpen:Y,onClose:x,placement:I,matchReferenceWidth:C,strategy:M,disableMobileBottomSheet:R=!1}=t,k=(0,v.Iu)()&&!R;(0,u._)(k&&w);let P=(0,s.useRef)(null),W=(0,s.useRef)(null),A=(0,y.F)(C),{refs:F,floatingStyles:T,context:B}=(0,a.we)({placement:I,strategy:"fixed",open:w,whileElementsMounted:c.ll,middleware:A}),{isMounted:N,styles:H}=(0,a.DL)(B,{duration:g.vV,initial:t=>{let{side:e}=t;return{opacity:0,transform:k?"translate3d(0, 100%, 0) scale(".concat(g.ph,")"):({top:"translate3d(0, ".concat(g.lW,"px, 0) scale(").concat(g.ph,")"),bottom:"translate3d(0, -".concat(g.lW,"px, 0) scale(").concat(g.ph,")"),left:"translate3d(".concat(g.lW,"px, 0, 0) scale(").concat(g.ph,")"),right:"translate3d(-".concat(g.lW,"px, 0, 0) scale(").concat(g.ph,")")})[e]}},open:{opacity:1,transform:"translate3d(0, 0, 0) scale(1)"},common:t=>{let{side:e}=t,n="var(--animation-timing-fast) var(--animation-smooth)",r="var(--animation-timing-slow) var(--animation-drawer)";return{transition:k?"opacity ".concat(r,", transform ").concat(r):"opacity ".concat(n,", transform ").concat(n),transformOrigin:k?"bottom center":({top:"bottom",bottom:"top",left:"right",right:"left"})[e]}}}),E=(0,p.J)({menuRef:P,overlayRef:W,onClose:_});(0,s.useEffect)(()=>{w?null==Y||Y():null==x||x()},[w]);let L=N?(0,o.Y)(l.W.Items,(0,i._)((0,r._)({className:b.A.floatingContainer,ref:F.setFloating,style:(0,i._)((0,r._)({},T,k&&g.o1),{zIndex:d.eQ}),static:!0},k?E.props:{}),{children:(0,o.FD)(m.$,{ref:P,style:H,children:[k&&(0,o.Y)(h.D,{close:_}),n]})})):null;return(0,o.FD)(o.FK,{children:[(0,o.Y)(l.W.Button,{as:s.Fragment,ref:F.setReference,disabled:D,children:e}),N&&"fixed"===M?(0,o.FD)(a.XF,{id:"menu-portal",children:[k&&(0,o.Y)(f.g,{isMounted:N,context:B,ref:W}),L]}):L]})}},29438:function(t,e,n){n.d(e,{g:()=>u});var r=n(69277),i=n(70408),o=n(10201),a=n(38314),c=n(17402),l=n(89490),s=n(10238),d=n(88206);let u=(0,c.forwardRef)(function(t,e){let{isMounted:n,context:c}=t,{styles:u}=(0,a.DL)(c,{duration:d.vV,initial:{opacity:0},open:{opacity:1},common:{transition:"opacity var(--animation-timing-slow) var(--animation-drawer)"}});return n?(0,o.Y)(l.az,{ref:e,position:"fixed",bg:"modal",inset:0,style:(0,i._)((0,r._)({},u),{zIndex:s.eQ-1}),"aria-hidden":!0}):null})},69967:function(t,e,n){n.d(e,{$:()=>f});var r=n(69277),i=n(32641),o=n(10201),a=n(32485),c=n.n(a),l=n(17402),s=n(76977),d=n(10996),u=n(88206),p=n(11510),g=n(59077);let f=(0,l.forwardRef)((t,e)=>{var{className:n,padding:a=u.aM}=t,l=(0,i._)(t,["className","padding"]);let f=(0,p.Iu)();return(0,o.Y)(d.e$,{children:(0,o.Y)(s.VP,(0,r._)({className:c()(g.A.menu,f&&g.A.mobile,"elevated",n),bg:"elevated",shadow:"md",border:"detail",sizing:"border-box",showFocus:!0,gap:2,padding:a,ref:e,overflowX:"hidden",overflowY:"auto"},l))})})},84014:function(t,e,n){n.d(e,{D:()=>a});var r=n(10201),i=n(89490),o=n(76977);function a(t){let{close:e}=t;return(0,r.Y)(o.ov,{paddingTop:4,className:"grabber-thsQdT",children:(0,r.Y)(i.az,{bg:"tertiary",width:64,height:4,radius:"full",onClick:e,cursor:"inherit"})})}},7831:function(t,e,n){n.d(e,{F:()=>l});var r=n(69277),i=n(70408),o=n(67535),a=n(17402);let c={elementContext:"floating",altBoundary:!1,rootBoundary:"viewport"};function l(t){return(0,a.useMemo)(()=>[(0,o.cY)(4),(0,o.UU)(),(0,o.BN)({padding:12}),(0,o.Ej)((0,i._)((0,r._)({},c),{padding:12,apply(e){let{availableHeight:n,rects:i,elements:o}=e;Object.assign(o.floating.style,(0,r._)({maxHeight:"".concat(Math.max(0,n),"px")},t&&{minWidth:"".concat(i.reference.width,"px")}))}}))],[t])}},87834:function(t,e,n){n.d(e,{c:()=>d});var r=n(69277),i=n(32641),o=n(10201),a=n(32485),c=n.n(a),l=n(76977),s=n(11510);function d(t){var{className:e,padding:n=20}=t,a=(0,i._)(t,["className","padding"]);let d=(0,s.Iu)();return(0,o.Y)(l.VP,(0,r._)({overflow:"auto",padding:n,className:c()("body-r_n7KA",d&&"mobile-xNCjoD",e)},a))}},6553:function(t,e,n){n.d(e,{_:()=>a});var r,i=n(17402);let o=null!=(r=n(66760).A.lock)?r:"",a=t=>{(0,i.useEffect)(()=>{if(!t)return;let e=document.body,n=document.documentElement,r=window.scrollY,i={top:e.style.top,bottom:e.style.bottom,paddingRight:e.style.paddingRight},a=window.innerWidth-n.clientWidth;return e.style.top="-".concat(r,"px"),a>0&&(e.style.paddingRight="".concat(a,"px")),e.classList.add(o),()=>{e.style.top=i.top,e.style.bottom=i.bottom,e.style.paddingRight=i.paddingRight,e.classList.remove(o),window.scrollTo(0,r)}},[t])}},35348:function(t,e,n){n.d(e,{J:()=>l});var r=n(17402);n(69843);let i=new WeakMap;function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(e=>{let[n,i]=e;r[n]=t.style.getPropertyValue(n),t.style.setProperty(n,i)}),n||i.set(t,r)}let a="var(--animation-timing-slow)",c="var(--animation-drawer)";function l(t){let{menuRef:e,overlayRef:n,onClose:i}=t,l=(0,r.useRef)({isDragging:!1,didDrag:!1,startTime:new Date,startY:0,startX:0,pointerId:0,menuHeight:0}),s=e.current;(0,r.useEffect)(()=>{s&&(s.style.touchAction="none")},[s]);let d=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.current&&o(n.current,{opacity:"".concat(t),transition:e?"transform ".concat(a," ").concat(c,", opacity ").concat(a," ").concat(c):"none"})},u=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.current&&o(e.current,{transform:"translate3d(0, ".concat(t,"px, 0)"),transition:n?"transform ".concat(a," ").concat(c,", opacity ").concat(a," ").concat(c):"none"})},p=()=>{e.current&&(u(0,!0),d(1,!0))};return{props:{onPointerDown:t=>{var n;let r=e.current;if(!r)return;let i=l.current;i.isDragging=!0,i.startTime=new Date,i.startY=t.pageY,i.startX=t.pageX,i.pointerId=t.pointerId,i.menuHeight=null!=(n=r.getBoundingClientRect().height)?n:0},onPointerMove:t=>{let n=l.current,r=e.current,{menuHeight:i}=n;if(!n.isDragging||t.pointerId!==n.pointerId||!r)return;let o=t.pageY-n.startY;if(!(10>Math.abs(o))&&(n.didDrag||((t,e)=>{var n;let r=null==(n=window.getSelection())?void 0:n.toString();if(r&&r.length>0)return!1;for(;t;){if(t.scrollHeight>t.clientHeight&&0!==t.scrollTop&&e)return!1;let n=t.parentNode;if(!n||!(n instanceof HTMLElement))break;t=n}return!0})(r,o>0))){if(t.preventDefault(),n.didDrag||(n.didDrag=!0,r.setAttribute("data-dragging","true"),r.setPointerCapture(t.pointerId)),o<0)return void u(-(8*(Math.log(-o+1)-2)));d(1-o/i),u(o)}},onPointerUp:t=>{var r;let s=l.current,d=e.current;if(!s.isDragging||t.pointerId!==s.pointerId||!d)return;let u=new Date().getTime()-s.startTime.getTime(),g=t.pageY-s.startY,f=Math.abs(g)/u,m=Math.min(null!=(r=d.getBoundingClientRect().height)?r:0,window.innerHeight);(d.releasePointerCapture(t.pointerId),s.didDrag&&t.preventDefault(),s.isDragging=!1,s.didDrag=!1,s.startTime=new Date,s.startY=0,s.startX=0,s.pointerId=0,d.removeAttribute("data-dragging"),g<0)?p():f>.4||Math.abs(g)>=.5*m?(o(e.current,{transition:"transform ".concat(a," ").concat(c,", opacity ").concat(a," ").concat(c)}),o(n.current,{transition:"opacity ".concat(a," ").concat(c)}),i()):p()},onPointerCancel:t=>{let{isDragging:e,pointerId:n}=l.current;e&&n===t.pointerId&&t.preventDefault()}},isDragging:l.current.isDragging}}},33397:function(t,e,n){n.d(e,{K:()=>o});var r=n(17402);let i=(0,r.createContext)({useMobileBottomSheet:!0,close:()=>void 0});function o(){return(0,r.useContext)(i)}}}]);